System.register("chunks:///_virtual/update-value-label.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,a,e,s,n,r;return{setters:[function(t){i=t.inheritsLoose,a=t.defineProperty,e=t.assertThisInitialized},function(t){s=t.cclegacy,n=t._decorator,r=t.LabelComponent}],execute:function(){var l;s._RF.push({},"02566VN0PhN8o7NqZg0WyFs","update-value-label",void 0);var h=n.ccclass;n.property,t("UpdateValueLabel",h("UpdateValueLabel")(l=function(t){function s(){for(var i,s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return i=t.call.apply(t,[this].concat(n))||this,a(e(i),"isPlaying",!1),a(e(i),"startVal",0),a(e(i),"endVal",0),a(e(i),"diffVal",0),a(e(i),"currTime",0),a(e(i),"changingTime",0),i}i(s,t);var n=s.prototype;return n.start=function(){},n.playUpdateValue=function(t,i,a){this.startVal=t,this.endVal=i,this.diffVal=this.endVal-this.startVal,this.currTime=0,this.changingTime=a,this.string=t.toString(),this.isPlaying=!0},n.update=function(t){if(this.isPlaying){if(this.currTime<this.changingTime){this.currTime+=t;var i=this.startVal+parseInt((this.currTime/this.changingTime*this.diffVal).toString());return i<this.startVal?i=this.startVal:i>this.endVal&&(i=this.endVal),void(this.string=""+i)}this.string=""+this.endVal,this.isPlaying=!1}},s}(r))||l);s._RF.pop()}}}));

System.register("chunks:///_virtual/migrate-canvas.ts",["cc"],(function(){"use strict";var n,e,t,i,r,o,a;return{setters:[function(c){n=c.cclegacy,e=c.director,t=c.Director,i=c.Canvas,r=c.Camera,o=c.game,a=c.Node}],execute:function(){n._RF.push({},"2832agZTb9K+rOJK8hXnlhg","migrate-canvas",void 0);var c=1048575;function l(n,e){for(var t=0,i=n.children.length;t<i;t++)n.children[t].layer=e,l(n.children[t],e)}e.on(t.EVENT_AFTER_SCENE_LAUNCH,(function(){var n,t,a,s=null===(n=e.getScene())||void 0===n?void 0:n.children,v=null===(t=e.getScene())||void 0===t?void 0:t.getComponentsInChildren(i);if(!(v.length<=1)){v=v.filter((function(n){return!!n.cameraComponent}));var m=null===(a=e.getScene())||void 0===a?void 0:a.getComponentsInChildren(r),u=0;m.forEach((function(n){return u|=n.visibility&c}));for(var p=[],f=0,h=s.length;f<h;f++){var d=s[f];if(o.isPersistRootNode(d)){var C=d.getComponentsInChildren(i);0!==C.length&&p.push.apply(p,C.filter((function(n){return!!n.cameraComponent})))}}p.forEach((function(n){if(v.find((function(e){return e!==n&&e.cameraComponent.visibility&n.cameraComponent.visibility&c}))){var e=~u,t=e&~(e-1);n.cameraComponent.visibility=t|4293918720&n.cameraComponent.visibility,l(n.node,t),u|=e}}))}}));var s=a.prototype.setParent;function v(n){var e=0,t=n.getComponent(i);return t&&t.cameraComponent?e=t.cameraComponent.visibility&t.node.layer?t.node.layer:t.cameraComponent.visibility&~(t.cameraComponent.visibility-1):(n.parent&&(e=v(n.parent)),e)}a.prototype.setParent=function(n,e){if(s.call(this,n,e),n){var t=v(this);t&&(this.layer=t,l(this,t))}},n._RF.pop()}}}));

System.register("chunks:///_virtual/board-manager.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./gameConfigs.ts","./utils.ts"],(function(t){"use strict";var i,o,r,n,e,a,s,d,h,_,l,p,u,c;return{setters:[function(t){i=t.applyDecoratedDescriptor,o=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized,e=t.defineProperty},function(t){a=t.cclegacy,s=t._decorator,d=t.Vec3,h=t.Prefab,_=t.instantiate,l=t.NodePool,p=t.Component},function(t){u=t.GameConfigs},function(t){c=t.utils}],execute:function(){var f,B,P,m,L,D,O,b,N;a._RF.push({},"2a0a0QivvtEZodpOZ79qMFb","board-manager",void 0);var A=s.ccclass,R=s.property,S=new d,v=new d;t("BoardManager",(f=A("BoardManager"),B=R(h),P=R(h),m=R([h]),f((O=i((D=function(t){function i(){for(var i,o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return i=t.call.apply(t,[this].concat(a))||this,r(n(i),"boardPrefab",O,n(i)),r(n(i),"diamondPrefab",b,n(i)),r(n(i),"proBoardPrefab",N,n(i)),e(n(i),"diamondSprintList",[]),e(n(i),"diamondCenterX",0),e(n(i),"_boardList",[]),e(n(i),"_proBoardList",[]),e(n(i),"_allBoardList",[]),e(n(i),"_propool",[]),e(n(i),"_boardInsIdx",0),e(n(i),"_endBoard",void 0),i}o(i,t);var a=i.prototype;return a.start=function(){this.createBoard()},a.createBoard=function(){this.reset(),this.initBoard(),this.initDiamond()},a.reset=function(){u.COME_COUNT=20,u.FORWARD_SCORE=0,this.node.removeAllChildren(),this._boardInsIdx=0,this._allBoardList=[],this._boardList=[],this._propool=[],this._proBoardList=[],this.diamondSprintList=[],this._endBoard=null},a.updateBoard=function(t){for(var i=0;i<this._allBoardList.length;i++){this._allBoardList[i].updateBoard(t)}},a.generateProNode=function(t){var i=t-u.BOARD_TYPE.PROP,o=null;return this._propool[i]?(o=this._propool[i].get())||(o=_(this.proBoardPrefab[i])):(this._propool[i]=new l("PRO_"+i),o=_(this.proBoardPrefab[i])),this.node.addChild(o),o},a.removeBulletNode=function(t,i){this._propool[t-u.BOARD_TYPE.PROP].put(i)},a.initBoard=function(){for(var t=0;t<u.BOARD_NUM;t++){var i=_(this.boardPrefab),o=i.getComponent("Board");o.name=this._boardInsIdx.toString(),this._boardInsIdx++,this.node.addChild(i),this._boardList.push(o),this._endBoard=o}for(var r,n=u.BOARD_INIT_POS.clone(),e=u.BOARD_TYPE.NORMAL,a=0;a<u.BOARD_NUM;a++)r=this._boardList[a],0==a?r.reset(e,n,1,!1):r.reset(e,n,1,!0),n=this.getNextPos(r,1),this._allBoardList.push(r);if((r=this._allBoardList[0]).isActive=!0,u.game.ball.currBoard=r,this.diamondSprintList[0])for(var s=0;s<u.DIAMOND_NUM;s++)this.diamondSprintList[s].active=!1},a.changeBoardColor=function(t){if(!1===t._isComperColor){u.CHANGECOLOR_TIME++;for(var i=0;i<this._boardList.length;i++){var o=this._boardList[i];o.node.position.y>=t.node.position.y&&o.node.active?(o.type!=u.BOARD_TYPE.GIANT&&(o.needLerpColor=!0,o.canChangeColor=!1),o.curChangeFrame=0,o===t&&(t._isComperColor=!0)):o.canChangeColor=!0}}},a.newProBoard=function(t,i){var o=this.getNextPos(this._endBoard,i,S),r=this.generateProNode(t);r.active=!0;var n=r.getComponent("ProBoard"),e=this._allBoardList.shift();e.type>=u.BOARD_TYPE.PROP&&this.removeBulletNode(e.type,e.node),n.reset(t,o,0,!0),n.name=this._boardInsIdx.toString(),this._boardInsIdx++,this._proBoardList.push(n),this._allBoardList.push(n),this._endBoard=n},a.newBoard=function(t,i){if(t>=u.BOARD_TYPE.PROP)this.newProBoard(t,i);else{var o=this.getNextPos(this._endBoard,i,S),r=this._endBoard.type,n=this._boardList.shift();this._allBoardList.shift(),t===u.BOARD_TYPE.SPRINT&&(this.diamondCenterX=o.x,this.setDiamond(o)),r===u.BOARD_TYPE.SPRINT||r===u.BOARD_TYPE.COLOR?n.reset(t,o,0,!0):n.reset(t,o,i,!0),n.name=this._boardInsIdx.toString(),this._boardInsIdx++,this._boardList.push(n),this._allBoardList.push(n),this._endBoard=n}},a.getNextPos=function(t,i,o){var r=o?o.set(t.node.position):t.node.position.clone(),n=c.getRandomInt(-2,2);if(r.x=(Math.random()-.5)*u.SCENE_MAX_OFFSET_X*n,r.x<.8&&r.x>-.8){var e=c.getRandomFloot(1,3);r.x=n>0?e:-e}return t.type===u.BOARD_TYPE.SPRINT&&(r.y+=u.BOARD_GAP_SPRINT,r.x=t.node.position.x),t.type===u.BOARD_TYPE.SPRING?r.y+=u.BOARD_GAP_SPRING:r.y+=u.BOARD_GAP,r.z=0,r},a.getLastPosX=function(){var t=this._allBoardList.length;return 0==t?0:this._allBoardList[t-1].node.position.x},a.initDiamond=function(){for(var t=0;t<u.DIAMOND_NUM;t++)this.diamondSprintList[t]=_(this.diamondPrefab),this.node.addChild(this.diamondSprintList[t]),this.diamondSprintList[t].active=!1},a.setDiamond=function(t){var i=t.clone();i.y+=u.BALL_JUMP_STEP_SPRINT*u.DIAMOND_START_FRAME;for(var o=0;o<u.DIAMOND_NUM;o++)this.setNextDiamondPos(i),this.diamondSprintList[o].setPosition(i),this.diamondSprintList[o].active=!0},a.newDiamond=function(){v.set(this.diamondSprintList[u.DIAMOND_NUM-1].position),this.setNextDiamondPos(v);var t=this.diamondSprintList.shift();t.setPosition(v),t.active=!0,this.diamondSprintList.push(t)},a.clearDiamond=function(){for(var t=0;t<u.DIAMOND_NUM;t++)this.diamondSprintList[t].active=!1},a.setNextDiamondPos=function(t){t.y+=u.DIAMOND_SPRINT_STEP_Y,t.x+=1.5*(Math.random()-.5),t.x>this.diamondCenterX+u.SCENE_MAX_OFFSET_X?t.x=this.diamondCenterX+u.SCENE_MAX_OFFSET_X:t.x<this.diamondCenterX-u.SCENE_MAX_OFFSET_X&&(t.x=this.diamondCenterX-u.SCENE_MAX_OFFSET_X)},a.getBoardList=function(){return this._allBoardList},a.getDiamondSprintList=function(){return this.diamondSprintList},i}(p)).prototype,"boardPrefab",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=i(D.prototype,"diamondPrefab",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=i(D.prototype,"proBoardPrefab",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=D))||L));a._RF.pop()}}}));

System.register("chunks:///_virtual/listViewCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,e,n,o,s,a,h,r,l,p,u,c,m;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,s=t.defineProperty},function(t){a=t.cclegacy,h=t._decorator,r=t.Node,l=t.ScrollViewComponent,p=t.instantiate,u=t.UITransformComponent,c=t.error,m=t.Component}],execute:function(){var g,f,C,d,v,y,w,b,D,T,I,L;a._RF.push({},"2f266RNFC1EkZDtwlLbgCRO","listViewCtrl",void 0);var P=h.ccclass,V=h.property;t("listViewCtrl",(g=P("listViewCtrl"),f=V(r),C=V(l),g((y=i((v=function(t){function i(){for(var i,e=arguments.length,a=new Array(e),h=0;h<e;h++)a[h]=arguments[h];return i=t.call.apply(t,[this].concat(a))||this,n(o(i),"itemTemplate",y,o(i)),n(o(i),"scrollView",w,o(i)),n(o(i),"spawnCount",b,o(i)),n(o(i),"totalCount",D,o(i)),n(o(i),"spacing",T,o(i)),n(o(i),"bufferZone",I,o(i)),n(o(i),"ListData",L,o(i)),s(o(i),"content",null),s(o(i),"items",[]),s(o(i),"updateTimer",0),s(o(i),"updateInterval",.2),s(o(i),"lastContentPosY",0),i}e(i,t);var a=i.prototype;return a.onLoad=function(){this.content=this.scrollView.content,this.content.removeAllChildren(),this.items=[],this.ListData=[],this.updateTimer=0,this.updateInterval=.2,this.lastContentPosY=0},a.initialize=function(t){for(var i=0;i<t.length;i++)this.ListData.push(t[i]);this.ListData.length<=10?this.spawnCount=this.ListData.length:this.spawnCount=10,this.totalCount=this.ListData.length,this.content.height=this.totalCount*(this.itemTemplate.height+this.spacing)+this.spacing;for(var e=0;e<this.spawnCount;++e){var n=p(this.itemTemplate);this.content.addChild(n),n.setPosition(0,-n.height*(.5+e)-this.spacing*e,0),n.getComponent(n.name).initItem(this.ListData[e],e),this.items.push(n)}},a.addItemData=function(t){for(var i=0;i<t.length;i++)this.ListData.push(t[i]);if(this.totalCount=this.ListData.length,this.content.height=this.totalCount*(this.itemTemplate.height+this.spacing)+this.spacing,this.spawnCount<10){for(var e=this.spawnCount-1;e<10;++e)if(this.ListData[e]){var n=p(this.itemTemplate);this.content.addChild(n),n.setPosition(0,-n.height*(.5+e)-this.spacing*e,0),n.getComponent(n.name).initItem(this.ListData[e],e),this.items.push(n)}this.spawnCount=10}},a.getPositionInView=function(t){var i=t.parent.getComponent(u).convertToWorldSpaceAR(t.position);return this.scrollView.node.getComponent(u).convertToNodeSpaceAR(i)},a.update=function(t){if(this.updateTimer+=t,!(this.updateTimer<this.updateInterval)){this.updateTimer=0;for(var i=this.items,e=this.bufferZone,n=this.scrollView.content.position.y<this.lastContentPosY,o=(this.itemTemplate.height+this.spacing)*i.length,s=0;s<i.length;++s){var a=this.getPositionInView(i[s]);if(n){if(a.y<-e&&i[s].position.y+o<0){var h=i[s].position.clone();if(h.y=i[s].position.y+o,i[s].setPosition(h),r=i[s].name)(l=i[s].getComponent(r))||c("item is null"),(p=l.itemID-i.length)<0&&c("is error item < 0"),l.updateItem(this.ListData[p],p)}}else if(a.y>e&&i[s].position.y-o>-this.content.height){var r,l,p,u=i[s].position.clone();if(u.y=i[s].position.y-o,i[s].setPosition(u),r=i[s].name)(l=i[s].getComponent(r))||c("item is null"),(p=l.itemID+i.length)<0&&c("is error item < 0"),l.updateItem(this.ListData[p],p)}}this.lastContentPosY=this.scrollView.content.position.y}},a.scrollEvent=function(t,i){},a.addItem=function(){this.content.height=(this.totalCount+1)*(this.itemTemplate.height+this.spacing)+this.spacing,this.totalCount=this.totalCount+1},a.removeItem=function(){this.totalCount-1<30?c("can't remove item less than 30!"):(this.content.height=(this.totalCount-1)*(this.itemTemplate.height+this.spacing)+this.spacing,this.totalCount=this.totalCount-1,this.moveBottomItemToTop())},a.clearAllItem=function(){this.ListData=[],this.items=[],this.content.removeAllChildren(),this.totalCount=this.ListData.length,this.content.height=this.totalCount*(this.itemTemplate.height+this.spacing)+this.spacing},a.moveBottomItemToTop=function(){var t=(this.itemTemplate.height+this.spacing)*this.items.length,i=this.items.length,e=this.getItemAtBottom();if(e.position.y+t<0){var n=e.position.clone();n.y=e.position.y+t,e.setPosition(n);var o=e.getComponent(e.name),s=o.itemID-i;o.updateItem(this.ListData[s],s)}},a.getItemAtBottom=function(){for(var t=this.items[0],i=1;i<this.items.length;++i)t.position.y>this.items[i].position.y&&(t=this.items[i]);return t},i}(m)).prototype,"itemTemplate",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=i(v.prototype,"scrollView",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=i(v.prototype,"spawnCount",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),D=i(v.prototype,"totalCount",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=i(v.prototype,"spacing",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),I=i(v.prototype,"bufferZone",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),L=i(v.prototype,"ListData",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=v))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/page-result.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./gameConfigs.ts","./revive.ts","./StorageMgr.ts"],(function(e){"use strict";var t,i,n,o,s,a,r,u,c,l,h,g,d,p,f,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,s=e.defineProperty},function(e){a=e.cclegacy,r=e._decorator,u=e.LabelComponent,c=e.Button,l=e.Node,h=e.AnimationComponent,g=e.Component},function(e){d=e.GameSystemManager,p=e.GameConfigs},function(e){f=e.Revive},function(e){b=e.default}],execute:function(){var y,v,S,m,w,B,C,T,E,D,N,I,L,M,z,R,A,_,k,G,O,P,V;a._RF.push({},"31b007MqixM3YyJROFsTMEh","page-result",void 0);var F=r.ccclass,H=r.property;e("PageResult",(y=F("PageResult"),v=H({type:u}),S=H({type:u}),m=H(c),w=H(l),B=H(l),C=H(l),T=H(l),E=H(l),D=H(l),N=H(l),y((M=t((L=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,n(o(t),"scoreLabel",M,o(t)),n(o(t),"histryScoreLabel",z,o(t)),n(o(t),"toggle",R,o(t)),s(o(t),"targetScore",0),n(o(t),"toast",A,o(t)),n(o(t),"nodeTips2",_,o(t)),n(o(t),"resetNode",k,o(t)),n(o(t),"revive",G,o(t)),n(o(t),"countdown",O,o(t)),n(o(t),"weekBest",P,o(t)),n(o(t),"dayBest",V,o(t)),s(o(t),"isWeekBest",void 0),s(o(t),"isDayBest",void 0),t}i(t,e);var a=t.prototype;return a.onLoad=function(){this.setBtnSound()},a.init=function(){this.targetScore=0,this.scoreLabel.string=this.targetScore.toString(),this.histryScoreLabel.string="Today Best : "+d.getInstance().weekBest,this.toast.active=!0,this.resetNode.active=!1,this.revive.active=!1,this.isWeekBest=!1,this.isDayBest=!1},a.onEnable=function(){p.game.node.on(p.GAME_EVENT.HIDETIPS,this.hideTips,this),p.game.node.on(p.GAME_EVENT.ADDSCORE,this.addScore,this),p.game.node.on(p.GAME_EVENT.DYING,this.gameDie,this),this.init(),this.showTips(!0),this.showResult(!1),this.toggle.node.on("click",this.onClickSound,this)},a.start=function(){this.revive.getComponent(f).pageResult=this},a.showDownCount=function(){var e=this;this.resetNode.active=!0,p.CANCLICK=!1;var t=this.countdown.getComponent(h);t.play("countDown1"),t.once("finished",(function(){e.resetNode.active=!1,e.toast.active=!0,e.showTips(!1),p.CANCLICK=!0}))},a.showToastNode=function(e){this.toast.active=e},a.onDisable=function(){p.game.node.off(p.GAME_EVENT.HIDETIPS,this.hideTips,this),p.game.node.off(p.GAME_EVENT.ADDSCORE,this.addScore,this)},a.addScore=function(e){(this.targetScore=e,this.scoreLabel.string=this.targetScore.toString(),d.getInstance().dayBest<this.targetScore&&!this.isDayBest)&&(d.getInstance().dayBest=e,this.dayBest.active=!0,this.dayBest.getComponent(h).play("score_act1"),this.isDayBest=!0)},a.gameDie=function(e){this.showTips(!1),this.showResult(!0)},a.showTips=function(e){this.nodeTips2.active=e},a.hideTips=function(){this.showTips(!1)},a.showResult=function(e){this.scoreLabel.node.active=!e,this.revive.active=e},a.onClickSound=function(){var e=d.getInstance().isSound;d.getInstance().isSound=0==e?1:0,1==d.getInstance().isSound?p.game.audioManager.resumeSound():p.game.audioManager.puaseSound(),this.setBtnSound(),b.getInstance().saveIsSound()},a.setBtnSound=function(){1==d.getInstance().isSound?(this.toggle.node.getChildByName("SoundOn").active=!0,this.toggle.node.getChildByName("SoundOff").active=!1):(this.toggle.node.getChildByName("SoundOn").active=!1,this.toggle.node.getChildByName("SoundOff").active=!0)},t}(g)).prototype,"scoreLabel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(L.prototype,"histryScoreLabel",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(L.prototype,"toggle",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(L.prototype,"toast",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(L.prototype,"nodeTips2",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(L.prototype,"resetNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(L.prototype,"revive",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(L.prototype,"countdown",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(L.prototype,"weekBest",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(L.prototype,"dayBest",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=L))||I));a._RF.pop()}}}));

System.register("chunks:///_virtual/revive.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./gameConfigs.ts","./utils.ts","./Localization.ts"],(function(e){"use strict";var t,i,n,r,a,o,l,u,s,c,p,g,b,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.defineProperty,r=e.assertThisInitialized,a=e.initializerDefineProperty},function(e){o=e.cclegacy,l=e._decorator,u=e.LabelComponent,s=e.SpriteComponent,c=e.Component},function(e){p=e.GameSystemManager,g=e.GameConfigs},function(e){b=e.utils},function(e){f=e.Localization}],execute:function(){var y,m,d,h,v,B,L,S,w,z,C,T,k,R,M,_,I,N,x,D,G,P,A,F,j,q,E;o._RF.push({},"37e87RwLXtA5LwGn6Zuq48u","revive",void 0);var H=l.ccclass,O=l.property;e("Revive",(y=H("Revive"),m=O(u),d=O({type:u}),h=O({type:u}),v=O({type:s}),B=O(u),L=O(u),S=O(u),w=O(u),z=O(u),C=O(u),T=O(u),k=O(u),y((_=t((M=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,n(r(t),"closeCb",null),a(r(t),"bestScore",_,r(t)),a(r(t),"scoreLabel",I,r(t)),a(r(t),"scoreLabelTemp",N,r(t)),a(r(t),"headSp",x,r(t)),a(r(t),"todayBest",D,r(t)),a(r(t),"playerName",G,r(t)),a(r(t),"txtTimes",P,r(t)),a(r(t),"scoreTitle",A,r(t)),a(r(t),"titleTodayBest",F,r(t)),a(r(t),"titleBestScore",j,r(t)),a(r(t),"titleLeaderBoard",q,r(t)),a(r(t),"titleStart",E,r(t)),n(r(t),"pageResult",null),t}i(t,e);var o=t.prototype;return o.onEnable=function(){this.show(),this.initLanguage()},o.show=function(){var e=p.getInstance().score.toString();this.scoreLabel.string=e.toString(),this.scoreLabelTemp.string=e.toString(),this.todayBest.string=" "+p.getInstance().dayBest,this.bestScore.string=" "+p.getInstance().allBest},o.initLanguage=function(){var e=b.getLocalizationLan(g.curLanguage),t=f.TodayBest[e];this.titleTodayBest.string=t+" :";var i=f.BestScore[e];this.titleBestScore.string=i+" :";var n=f.Score[e];this.scoreTitle.string=n;var r=f.LeaderBoard[e];this.titleLeaderBoard.string=r;var a=f.Start[e];this.titleStart.string=a},o.onBtnReviveClick=function(){g.game.gameStart(!0),g.game.audioManager.playClip()},o.onBtnSkipClick=function(){g.game.audioManager.playClip(),g.game.gameOver()},o.onBtnRankClick=function(){g.game.audioManager.playClip(),g.game.rankNode.getComponent("rankLayer").delegate=this,g.game.rankNode.active=!0,this.showBtn(!1)},o.showBtn=function(e){this.node.active=e},t}(c)).prototype,"bestScore",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(M.prototype,"scoreLabel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(M.prototype,"scoreLabelTemp",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(M.prototype,"headSp",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(M.prototype,"todayBest",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(M.prototype,"playerName",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(M.prototype,"txtTimes",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(M.prototype,"scoreTitle",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(M.prototype,"titleTodayBest",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(M.prototype,"titleBestScore",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(M.prototype,"titleLeaderBoard",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(M.prototype,"titleStart",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=M))||R));o._RF.pop()}}}));

System.register("chunks:///_virtual/proboard.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./gameConfigs.ts","./utils.ts"],(function(e){"use strict";var t,i,n,o,r,a,s,c,h,l,P,p,u,_,d,R;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.defineProperty},function(e){a=e.cclegacy,s=e._decorator,c=e.Vec3,h=e.Prefab,l=e.ParticleSystemComponent,P=e.ModelComponent,p=e.AnimationComponent,u=e.instantiate,_=e.Component},function(e){d=e.GameConfigs},function(e){R=e.utils}],execute:function(){var f,g,O,v,A,B,m;a._RF.push({},"3e865+2BgtGTYSNjP+JhGY7","proboard",void 0);var C=s.ccclass,D=s.property;new c,e("ProBoard",(f=C("ProBoard"),g=D({type:h}),O=D({type:h}),f((B=t((A=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,n(o(t),"centerPrefab",B,o(t)),n(o(t),"boardParticlePrefab",m,o(t)),r(o(t),"isActive",!1),r(o(t),"boardScore",null),r(o(t),"boardParticle",null),r(o(t),"type",d.BOARD_TYPE.PROP),r(o(t),"wave",null),r(o(t),"waveInner",null),r(o(t),"waveOriginScale",new c),r(o(t),"currWaveFrame",0),r(o(t),"currSpringFrame",0),r(o(t),"centerOffX",void 0),r(o(t),"currBumpFrame",d.BOARD_BUMP_FRAMES),r(o(t),"center",null),r(o(t),"isMovingRight",!0),r(o(t),"isMoving",!1),r(o(t),"posBeforeDrop",new c),r(o(t),"originScale",new c),r(o(t),"currDropFrame",d.BOARD_DROP_FRAMES),r(o(t),"canChangeColor",!1),r(o(t),"lerpTime",1),r(o(t),"t",0),r(o(t),"_game",null),t}i(t,e);var a=t.prototype;return a.onLoad=function(){this.originScale.set(this.node.scale),this.initCenter(),this.initBoardParticle()},a.updateBoard=function(e){this.effectBump(),this.effectMove()},a.reset=function(e,t,i,n){if(this.isActive=!1,this.type=e,this.node.setPosition(t),this.isMoving=!1,this.boardParticle.active=!1,this.type===d.BOARD_TYPE.PROP_6){var o=this.node.getComponentInChildren(l);o.isPlaying&&(o.stop(),o.loop=!1)}else if(this.type===d.BOARD_TYPE.PROP_4);else if(this.type===d.BOARD_TYPE.PROP_8){if(0!=d.CHANGECOLOR_TIME){var r=this.node.getComponentInChildren(P).material.passes[0],a=r.getHandle("albedo"),s=d.CHANGE_COLOR[d.CHANGECOLOR_TIME%5];r.setUniform(a,s)}var c=this.node.getChildByName("RootNode");(c=c.getChildByName("guang")).active=!0}},a.showProAct=function(e){switch(e){case d.BOARD_TYPE.PROP:var t=this.node.getComponentInChildren(l);t.isPlaying||t.play();break;case d.BOARD_TYPE.PROP_1:var i=this.node.getComponent(p);i&&i.play("lihe_act1");var n=this.node.getComponentInChildren(l);n.isPlaying||n.play();break;case d.BOARD_TYPE.PROP_2:break;case d.BOARD_TYPE.PROP_3:var o=this.node.getComponent(p);o&&o.crossFade("hehua_act1",.2);break;case d.BOARD_TYPE.PROP_4:var r=this.node.getComponent(p);r&&r.play("logo_act1");break;case d.BOARD_TYPE.PROP_5:var a=this.node.getComponent(p);a&&a.play("pingpang_act1");break;case d.BOARD_TYPE.PROP_6:var s=this.node.getComponentInChildren(l);s.isPlaying||(s.play(),s.loop=!0);break;case d.BOARD_TYPE.PROP_7:var c=this.node.getComponent(p);c&&c.play("rili_act1");break;case d.BOARD_TYPE.PROP_8:var h=this.node.getChildByName("RootNode");(h=h.getChildByName("guang")).active=!1}},a.initBoardParticle=function(){this.boardParticle=u(this.boardParticlePrefab),this.node.addChild(this.boardParticle),this.boardParticle.active=!1},a.setBump=function(){this.currBumpFrame=0},a.effectBump=function(){if(this.currBumpFrame<d.BOARD_BUMP_FRAMES){var e=this.node.position;this.node.setPosition(e.x,e.y+d.BOARD_BUMP_STEP[this.currBumpFrame],e.z),this.setCenterPos(),this.currBumpFrame++}},a.initCenter=function(){this.center=u(this.centerPrefab),this.node.parent.addChild(this.center),this.center.active=!1},a.showCenter=function(e){},a.setCenterPos=function(){var e=this.node.position.clone();e.x+=this.centerOffX,e.y+=d.BOARD_HEIGTH/2,this.center.setPosition(e)},a.initWave=function(){},a.setWave=function(){},a.getHeight=function(){return this.type===d.BOARD_TYPE.DROP?d.BOARD_HEIGTH*d.BOARD_HEIGTH_SCALE_DROP:d.BOARD_HEIGTH},a.getRadius=function(){return this.type===d.BOARD_TYPE.GIANT?d.BOARD_RADIUS*d.BOARD_RADIUS_SCALE_GIANT:d.BOARD_RADIUS},a.setMove=function(e){var t=R.getDiffCoeff(e,1,10);return Math.random()*t>5},a.checkDiamond=function(e){},a.effectMove=function(){if(this.isMoving){var e=this.node.getPosition().clone(),t=e.x;this.isMovingRight&&t<=d.SCENE_MAX_OFFSET_X?(t+=d.BOARD_MOVING_STEP,this.node.setPosition(t,e.y,e.z)):this.isMovingRight&&t>d.SCENE_MAX_OFFSET_X?this.isMovingRight=!1:!this.isMovingRight&&t>=-d.SCENE_MAX_OFFSET_X?(t-=d.BOARD_MOVING_STEP,this.node.setPosition(t,e.y,e.z)):!this.isMovingRight&&t<-d.SCENE_MAX_OFFSET_X&&(this.isMovingRight=!0),this.setCenterPos()}},a.revive=function(){this.isActive=!1,this.isMoving=!1,this.type===d.BOARD_TYPE.DROP&&(this.currDropFrame=d.BOARD_DROP_FRAMES,this.node.setPosition(this.posBeforeDrop))},t}(_)).prototype,"centerPrefab",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=t(A.prototype,"boardParticlePrefab",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=A))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/ui-manager.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./gameConfigs.ts"],(function(e){"use strict";var t,i,r,n,a,o,u,s,c,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized,a=e.defineProperty},function(e){o=e.cclegacy,u=e._decorator,s=e.Node,c=e.Component},function(e){l=e.GameConfigs}],execute:function(){var p,g,f,h,v,y,m;o._RF.push({},"4becfUEfe1C2prK7h8zxNvz","ui-manager",void 0);var R=u.ccclass,d=u.property;e("UIManager",(p=R("UIManager"),g=d(s),f=d(s),p((y=t((v=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),u=0;u<i;u++)o[u]=arguments[u];return t=e.call.apply(e,[this].concat(o))||this,r(n(t),"pageStart",y,n(t)),r(n(t),"pageResult",m,n(t)),a(n(t),"ResultScript",void 0),t}i(t,e);var o=t.prototype;return o.onLoad=function(){l.game.uiManager=this},o.start=function(){this.pageResult.active=!1,this.ResultScript=this.pageResult.getComponent("PageResult")},o.showDialog=function(e){this.pageResult.active=!e,this.pageStart.active=e},t}(c)).prototype,"pageStart",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=t(v.prototype,"pageResult",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=v))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/audio-manager.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./gameConfigs.ts"],(function(o){"use strict";var i,t,n,e,a,u,s,r,p,c,d;return{setters:[function(o){i=o.applyDecoratedDescriptor,t=o.inheritsLoose,n=o.initializerDefineProperty,e=o.assertThisInitialized,a=o.defineProperty},function(o){u=o.cclegacy,s=o._decorator,r=o.AudioClip,p=o.AudioSourceComponent,c=o.Component},function(o){d=o.GameSystemManager}],execute:function(){var l,h,m,S,f;u._RF.push({},"52ff6Qg0MlJaaUpLNS1HPTJ","audio-manager",void 0);var g=s.ccclass,y=s.property;o("AudioManager",(l=g("AudioManager"),h=y(r),l((f=i((S=function(o){function i(){for(var i,t=arguments.length,u=new Array(t),s=0;s<t;s++)u[s]=arguments[s];return i=o.call.apply(o,[this].concat(u))||this,n(e(i),"click",f,e(i)),a(e(i),"audioComp",null),a(e(i),"isStopSound",!1),i}t(i,o);var u=i.prototype;return u.start=function(){this.audioComp=this.node.getComponent(p),this.audioComp.stop()},u.playSound=function(o){void 0===o&&(o=!0),1==d.getInstance().isSound?o?(this.isStopSound=!1,this.audioComp.play()):(this.isStopSound=!0,this.audioComp.stop()):(this.isStopSound=!1,this.audioComp.stop())},u.playClip=function(){0!=d.getInstance().isSound&&this.audioComp.playOneShot(this.click)},u.puaseSound=function(){this.audioComp.pause()},u.resumeSound=function(){1==d.getInstance().isSound?this.isStopSound||this.audioComp.play():this.audioComp.stop()},i}(c)).prototype,"click",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=S))||m));u._RF.pop()}}}));

System.register("chunks:///_virtual/gameConfigs.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(_){"use strict";var R,A,E,P;return{setters:[function(_){R=_.defineProperty},function(_){A=_.cclegacy,E=_.Vec3,P=_.Color}],execute:function(){var O,S,e,N;A._RF.push({},"6a26fkwklpI+Zzl3ABB39He","gameConfigs",void 0),function(_){_[_.NORMAL=0]="NORMAL",_[_.SPRING=1]="SPRING",_[_.DROP=2]="DROP",_[_.GIANT=3]="GIANT",_[_.SPRINT=4]="SPRINT",_[_.COLOR=5]="COLOR",_[_.PROP=6]="PROP",_[_.PROP_1=7]="PROP_1",_[_.PROP_2=8]="PROP_2",_[_.PROP_3=9]="PROP_3",_[_.PROP_4=10]="PROP_4",_[_.PROP_5=11]="PROP_5",_[_.PROP_6=12]="PROP_6",_[_.PROP_7=13]="PROP_7",_[_.PROP_8=14]="PROP_8"}(O||(O={})),function(_){_[_.READY=1]="READY",_[_.PLAYING=2]="PLAYING",_[_.PAUSE=3]="PAUSE",_[_.OVER=4]="OVER"}(S||(S={})),function(_){_.RESTART="restart",_.REVIVE="revive",_.ADDSCORE="add-score",_.DYING="dying",_.HIDETIPS="hide-tips"}(e||(e={})),function(_){_[_.JUMPUP=1]="JUMPUP",_[_.FALLDOWN=2]="FALLDOWN",_[_.SPRINT=3]="SPRINT"}(N||(N={}));var T=_("GameConfigs",(function(){}));R(T,"game",void 0),R(T,"COEFF_POS_BALL",8/360),R(T,"PLAYER_MAX_DOWN_FRAMES",40),R(T,"MAX_SCORE",0),R(T,"CANCLICK",!0),R(T,"SCORE_BOARD_CENTER",2),R(T,"SCORE_BOARD_NOT_CENTER",1),R(T,"BOARD_INIT_POS",new E(0,10,0)),R(T,"BOARD_NUM",6),R(T,"BOARD_NEW_INDEX",1),R(T,"BOARD_HEIGTH",.25),R(T,"BOARD_RADIUS",1.7),R(T,"PRO_BOARD_RADIUS",1.7),R(T,"BOARD_HEIGTH_SCALE_DROP",.5),R(T,"BOARD_RADIUS_SCALE_GIANT",2.8),R(T,"BOARD_GAP",3.6),R(T,"BOARD_GAP_SPRING",9),R(T,"BOARD_GAP_SPRINT",80),R(T,"BOARD_SCALE_GIANT",2.8),R(T,"SCENE_MAX_OFFSET_X",3.2),R(T,"BOARD_TYPE",O),R(T,"BOARD_DROP_FRAMES",40),R(T,"BOARD_DROP_STEP",.5),R(T,"BOARD_RADIUS_CENTER",.2),R(T,"BOARD_SPRING_FRAMES",10),R(T,"BOARD_WAVE_FRAMES",16),R(T,"BOARD_CENTER_FRAMES",13),R(T,"BOARD_WAVE_INNER_START_FRAMES",8),R(T,"BOARD_WAVE_INNER_STEP",.24),R(T,"BOARD_WAVE_STEP",2.25),R(T,"BOARD_MOVING_STEP",.03),R(T,"SPRING_HEIGHT",.2),R(T,"SPRING_HELIX_STEP",.5),R(T,"SPRING_HELIX_STEP_SPIRNT",1.2),R(T,"SPRING_TOP_STEP",.25),R(T,"SPRING_TOP_STEP_SPRINT",.5),R(T,"WAVE_OFFSET_Y",.065),R(T,"CAMERA_INIT_POS",new E(0,15,22)),R(T,"CAMERA_INIT_ROT",new E(-11,0,0)),R(T,"CAMERA_MOVE_X_FRAMES",40),R(T,"CAMERA_MOVE_Y_FRAMES",30),R(T,"CAMERA_MOVE_Y_FRAMES_SPRING",23),R(T,"CAMERA_MOVE_MINI_ERR",.02),R(T,"CAMERA_OFFSET_Y",10),R(T,"CAMERA_OFFSET_Y_SPRINT",15),R(T,"BOARD_BUMP_FRAMES",10),R(T,"BOARD_BUMP_STEP",[-.15,-.1,-.07,-.02,-.003,.003,.02,.07,.1,.15]),R(T,"GAME_STATE",S),R(T,"GAME_EVENT",e),R(T,"BALL_RADIUS",.65),R(T,"BALL_JUMP_STATE",N),R(T,"BALL_JUMP_FRAMES",20),R(T,"BALL_JUMP_FRAMES_SPRING",27),R(T,"BALL_JUMP_FRAMES_SPRINT",100),R(T,"BALL_JUMP_STEP",[.6,.5,.4,.4,.2,.1,.09,.08,.05,.03]),R(T,"BALL_JUMP_STEP1",[.6,.5,.4,.4,.3,.2,.08,.03]),R(T,"BALL_JUMP_STEP2",[.7,.6,.5,.3,.3,.15,.08]),R(T,"BALL_JUMP_STEP3",[.8,.7,.5,.4,.3]),R(T,"BALL_JUMP_STEP_SPRING",[1.2,.8,.6,.4,.3,.2,.15,.1,.05]),R(T,"BALL_JUMP_STEP_SPRINT",.8),R(T,"BALL_SPRINT_STEP_Y",10),R(T,"DIAMOND_NUM",10),R(T,"DIAMOND_PIECE_NUM",10),R(T,"DIAMOND_RADIUS",.3),R(T,"DIAMOND_ROTATE_STEP_Y",1.5),R(T,"DIAMOND_SCORE",1),R(T,"DIAMOND_SCORE_AREA",.6),R(T,"DIAMOND_SPRINT_SCORE_AREA",1),R(T,"DIAMOND_SPRINT_STEP_Y",4),R(T,"DIAMOND_START_FRAME",6),R(T,"FORWARD_SCORE",0),R(T,"CHANGE_COLOR",[new P(195,241,255,255),new P(114,110,111,255),new P(255,213,78,255),new P(255,168,156,255),new P(156,255,219,255)]),R(T,"CHANGEBG_COLOR",[new P(176,204,218,108),new P(213,191,201,108),new P(206,207,194,108),new P(219,216,235,108),new P(202,230,221,108)]),R(T,"CHANGECOLOR_TIME",0),R(T,"CREATECOLOR_BOARD",22),R(T,"CREATESTAR_BOARD",10),R(T,"COME_COUNT",0),R(T,"INITIALSCALE",new E(.95,.5,.95)),R(T,"ENDSCALE",new E(.95,.5,.95)),R(T,"CURSCALE",new E(.95,.5,.95)),R(T,"curLanguage","en");var n=_("GameSystemManager",function(){function _(){R(this,"curSceneNode",null),R(this,"httpToken","ODUzNTBfRjU5QkQ2NUY3RURBRkIwODdBODFENERDQTA2QzQ5MTBfMV84NjMzODkwMzY5MjU3OTNfMTU4NjQ4MzI1MV9iYW5iYW4xMjM0NTY="),R(this,"isOnline",!0),R(this,"isNewUser",1),R(this,"isAddedHomeScreen",0),R(this,"isSound",1),R(this,"curLanguage","English"),R(this,"appKey",""),R(this,"roomId",""),R(this,"remainTimes",0),R(this,"bestHeadimage",""),R(this,"bestNickname",""),R(this,"rank",0),R(this,"showType",0),R(this,"score",0),R(this,"dayBest",0),R(this,"weekBest",0),R(this,"allBest",0),R(this,"histryScore",50),R(this,"playCnt",0),R(this,"allPlayCnt",0),R(this,"cacheSpriteFrame",[]),R(this,"leaderBoardsName","szsmbkjjumpball2021"),R(this,"numClickAdsBanner",0)}return _.getInstance=function(){return this.instance||(this.instance=new _),this.instance},_}());R(n,"instance",void 0),A._RF.pop()}}}));

System.register("chunks:///_virtual/gameCtl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./gameConfigs.ts","./utils.ts","./board-manager.ts","./Localization.ts","./StorageMgr.ts","./ui-manager.ts","./audio-manager.ts","./ball.ts","./camera-ctrl.ts","./toast.ts","./loading.ts","./FbAds.ts"],(function(t){"use strict";var e,n,a,i,o,r,s,l,u,c,h,d,g,f,m,b,p,E,C,v,A,S,M,T,y,G,w,L,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,a=t.initializerDefineProperty,i=t.assertThisInitialized,o=t.defineProperty,r=t.createClass},function(t){s=t.cclegacy,l=t._decorator,u=t.Prefab,c=t.Node,h=t.LabelComponent,d=t.instantiate,g=t.game,f=t.Game,m=t.director,b=t.Component},function(t){p=t.GameConfigs,E=t.GameSystemManager},function(t){C=t.utils},function(t){v=t.BoardManager},function(t){A=t.Localization},function(t){S=t.default},function(t){M=t.UIManager},function(t){T=t.AudioManager},function(t){y=t.Ball},function(t){G=t.CameraCtrl},function(t){w=t.Toast},function(t){L=t.Loading},function(t){_=t.default}],execute:function(){var B,N,I,R,k,z,D,P,V,O,Y,x,F,H,K,U,j,W,q,J,Q,X,Z,$,tt,et,nt,at,it;s._RF.push({},"6b6999+5cFK4K47RCoawnB4","gameCtl",void 0);var ot=l.ccclass,rt=l.property;t("GameCtl",(B=ot("Game"),N=rt(u),I=rt(v),R=rt(G),k=rt(M),z=rt(T),D=rt(c),P=rt(c),V=rt(c),O=rt(c),Y=rt(c),x=rt(h),F=rt(h),H=rt(h),B((j=e((U=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,a(i(e),"ballPref",j,i(e)),a(i(e),"boardManager",W,i(e)),a(i(e),"cameraCtrl",q,i(e)),a(i(e),"uiManager",J,i(e)),a(i(e),"audioManager",Q,i(e)),a(i(e),"startBtn",X,i(e)),a(i(e),"rankBtn",Z,i(e)),a(i(e),"rankNode",$,i(e)),a(i(e),"toastNode",tt,i(e)),a(i(e),"loadNode",et,i(e)),a(i(e),"textLable",nt,i(e)),a(i(e),"titleStart",at,i(e)),a(i(e),"titleLeaderBoard",it,i(e)),o(i(e),"toastScript",null),o(i(e),"loadScript",null),o(i(e),"scoreCount",void 0),o(i(e),"state",p.GAME_STATE.READY),o(i(e),"score",0),o(i(e),"hasRevive",!1),o(i(e),"isCanClick",!1),o(i(e),"_ball",null),e}n(e,t);var s=e.prototype;return s.__preload=function(){p.game=this},s.onLoad=function(){S.getInstance().init();var t=this;if(!this.ballPref)return console.log("There is no ball!!"),void(this.enabled=!1);_.getInstance().LoadInterstitialAds(),this.scoreCount=0,this.beforeCreate();var e=d(this.ballPref);e.parent=this.node.parent,this._ball=e.getComponent(y),this.toastScript=this.toastNode.getComponent(w),this.loadScript=this.loadNode.getComponent(L);var n=function(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n};n(window,"online",(function(){})),n(window,"offline",(function(){t.showToast("请确认您的手机是否处于联网状态")}))},s.start=function(){this.initLanguage();var t=this;this.node.on(p.GAME_EVENT.RESTART,this.gameStart,this),this.node.on(p.GAME_EVENT.REVIVE,this.gameRevive,this),g.on(f.EVENT_HIDE,(function(){t.audioManager.puaseSound()}),this),g.on(f.EVENT_SHOW,(function(){t.audioManager.resumeSound()}),this)},s.loadAds=function(){},s.initLanguage=function(){var t=C.getLocalizationLan(p.curLanguage),e=A.Start[t];this.titleStart.string=e;var n=A.LeaderBoard[t];this.titleLeaderBoard.string=n},s.onDestroy=function(){this.node.off(p.GAME_EVENT.RESTART,this.gameStart,this),this.node.off(p.GAME_EVENT.REVIVE,this.gameRevive,this)},s.resetGame=function(t){this.state=p.GAME_STATE.READY,this._ball.reset(),this.cameraCtrl.reset(),this.boardManager.createBoard(),this.uiManager.showDialog(t)},s.setGameTimes=function(){},s.getGameConfig=function(){this.showLoading()},s.sendScore=function(t,e,n){n&&n()},s.sendGameStatu=function(t,e){e()},s.beforeCreate=function(){},s.showRank=function(){g.end()},s.showBtn=function(t){this.startBtn.active=t,this.rankBtn.active=t},s.changScore=function(){var t=Number(this.textLable.string);this.score=t},s.gameStart=function(t){void 0===t&&(t=!1);var e=this;E.getInstance().playCnt++,S.getInstance().savePlayCnt(),E.getInstance().allPlayCnt>3&&E.getInstance().playCnt,0==this.isCanClick&&(this.isCanClick=!0,this.textLable.string="",this.sendGameStatu(!0,(function(){e.audioManager.playSound(!0),e.isCanClick=!1,e.uiManager.showDialog(!1),e.state=p.GAME_STATE.PLAYING,e.hasRevive=!1,e.score=0,e.scoreCount=0,"boolean"==typeof t&&(e.gameOver1(),e.state=p.GAME_STATE.PLAYING)})))},s.gameDie=function(){var t=this;this.audioManager.playSound(!1),this.state=p.GAME_STATE.PAUSE,this.uiManager.showDialog(!1),S.getInstance().saveBestScore(this.score),E.getInstance().score=this.score,this.node.emit(p.GAME_EVENT.DYING,(function(){t.gameOver()}))},s.gameOver=function(){this.state=p.GAME_STATE.OVER,this.audioManager.playSound(!1),this.setGameTimes(),this.resetGame(!0)},s.gameOver1=function(){this.scoreCount=0,this.setGameTimes(),this.state=p.GAME_STATE.READY,this._ball.reset(),this.cameraCtrl.reset(),this.boardManager.createBoard(),this.uiManager.ResultScript.onEnable()},s.gameRevive=function(){var t=this;this.hasRevive=!0,this.state=p.GAME_STATE.READY,this.ball.revive(),this.scheduleOnce((function(){t.audioManager.playSound(!0),t.state=p.GAME_STATE.PLAYING}),1)},s.addScore=function(t){this.scoreCount+=t,this.score+=t,this.node.emit(p.GAME_EVENT.ADDSCORE,this.score),this.scoreCount>=100&&(this.sendScore(this.score),this.scoreCount-=100)},s.changeBoardColor=function(t){this.boardManager.changeBoardColor(t),this.cameraCtrl.changeBgColor()},s.showToast=function(t){this.toastScript.show(t)},s.dismissToast=function(){this.toastScript.dismiss()},s.showLoading=function(){this.loadScript.show()},s.dismissLoading=function(){this.loadScript.dismiss()},s.update=function(t){this.cameraCtrl.updateCamera(t),this.ball.updateBall(t),Math.floor(1/m.getDeltaTime())<30||(p.CANCLICK=!0)},s.lateUpdate=function(t){this.boardManager.updateBoard(t)},s.onClickAmodBanner=function(){E.getInstance().numClickAdsBanner++,S.getInstance().saveAdsClickNum(),E.getInstance().numClickAdsBanner,console.log("onClickAmodBanner",E.getInstance().numClickAdsBanner)},r(e,[{key:"ball",get:function(){return this._ball}}]),e}(b)).prototype,"ballPref",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(U.prototype,"boardManager",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(U.prototype,"cameraCtrl",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(U.prototype,"uiManager",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=e(U.prototype,"audioManager",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(U.prototype,"startBtn",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=e(U.prototype,"rankBtn",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=e(U.prototype,"rankNode",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=e(U.prototype,"toastNode",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=e(U.prototype,"loadNode",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=e(U.prototype,"textLable",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=e(U.prototype,"titleStart",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=e(U.prototype,"titleLeaderBoard",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=U))||K));s._RF.pop()}}}));

System.register("chunks:///_virtual/page-start.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./gameConfigs.ts"],(function(t){"use strict";var e,n,r,a,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,r=t._decorator,a=t.Component},function(t){o=t.GameConfigs}],execute:function(){var i;n._RF.push({},"75579oVThhNcJN3jNLu42YC","page-start",void 0);var s=r.ccclass;r.property,t("PageStart",s("PageStart")(i=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.gameStart=function(){o.game.node.emit(o.GAME_EVENT.RESTART),o.game.audioManager.playClip()},n}(a))||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/md5.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,r;return{setters:[function(t){e=t.defineProperty},function(t){r=t.cclegacy}],execute:function(){r._RF.push({},"7db00R5tcdH1qS/oGSLjqvI","md5",void 0);var n=t("Md5",function(){function t(){e(this,"_dataLength",void 0),e(this,"_bufferLength",void 0),e(this,"_state",new Int32Array(4)),e(this,"_buffer",new ArrayBuffer(68)),e(this,"_buffer8",void 0),e(this,"_buffer32",void 0),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}t.hashStr=function(t,e){return void 0===e&&(e=!1),this.onePassHasher.start().appendStr(t).end(e)},t.hashAsciiStr=function(t,e){return void 0===e&&(e=!1),this.onePassHasher.start().appendAsciiStr(t).end(e)},t._hex=function(e){var r,n,s,i,h=t.hexChars,f=t.hexOut;for(i=0;i<4;i+=1)for(n=8*i,r=e[i],s=0;s<8;s+=2)f[n+1+s]=h.charAt(15&r),r>>>=4,f[n+0+s]=h.charAt(15&r),r>>>=4;return f.join("")},t._md5cycle=function(t,e){var r=t[0],n=t[1],s=t[2],i=t[3];n=((n+=((s=((s+=((i=((i+=((r=((r+=(n&s|~n&i)+e[0]-680876936|0)<<7|r>>>25)+n|0)&n|~r&s)+e[1]-389564586|0)<<12|i>>>20)+r|0)&r|~i&n)+e[2]+606105819|0)<<17|s>>>15)+i|0)&i|~s&r)+e[3]-1044525330|0)<<22|n>>>10)+s|0,n=((n+=((s=((s+=((i=((i+=((r=((r+=(n&s|~n&i)+e[4]-176418897|0)<<7|r>>>25)+n|0)&n|~r&s)+e[5]+1200080426|0)<<12|i>>>20)+r|0)&r|~i&n)+e[6]-1473231341|0)<<17|s>>>15)+i|0)&i|~s&r)+e[7]-45705983|0)<<22|n>>>10)+s|0,n=((n+=((s=((s+=((i=((i+=((r=((r+=(n&s|~n&i)+e[8]+1770035416|0)<<7|r>>>25)+n|0)&n|~r&s)+e[9]-1958414417|0)<<12|i>>>20)+r|0)&r|~i&n)+e[10]-42063|0)<<17|s>>>15)+i|0)&i|~s&r)+e[11]-1990404162|0)<<22|n>>>10)+s|0,n=((n+=((s=((s+=((i=((i+=((r=((r+=(n&s|~n&i)+e[12]+1804603682|0)<<7|r>>>25)+n|0)&n|~r&s)+e[13]-40341101|0)<<12|i>>>20)+r|0)&r|~i&n)+e[14]-1502002290|0)<<17|s>>>15)+i|0)&i|~s&r)+e[15]+1236535329|0)<<22|n>>>10)+s|0,n=((n+=((s=((s+=((i=((i+=((r=((r+=(n&i|s&~i)+e[1]-165796510|0)<<5|r>>>27)+n|0)&s|n&~s)+e[6]-1069501632|0)<<9|i>>>23)+r|0)&n|r&~n)+e[11]+643717713|0)<<14|s>>>18)+i|0)&r|i&~r)+e[0]-373897302|0)<<20|n>>>12)+s|0,n=((n+=((s=((s+=((i=((i+=((r=((r+=(n&i|s&~i)+e[5]-701558691|0)<<5|r>>>27)+n|0)&s|n&~s)+e[10]+38016083|0)<<9|i>>>23)+r|0)&n|r&~n)+e[15]-660478335|0)<<14|s>>>18)+i|0)&r|i&~r)+e[4]-405537848|0)<<20|n>>>12)+s|0,n=((n+=((s=((s+=((i=((i+=((r=((r+=(n&i|s&~i)+e[9]+568446438|0)<<5|r>>>27)+n|0)&s|n&~s)+e[14]-1019803690|0)<<9|i>>>23)+r|0)&n|r&~n)+e[3]-187363961|0)<<14|s>>>18)+i|0)&r|i&~r)+e[8]+1163531501|0)<<20|n>>>12)+s|0,n=((n+=((s=((s+=((i=((i+=((r=((r+=(n&i|s&~i)+e[13]-1444681467|0)<<5|r>>>27)+n|0)&s|n&~s)+e[2]-51403784|0)<<9|i>>>23)+r|0)&n|r&~n)+e[7]+1735328473|0)<<14|s>>>18)+i|0)&r|i&~r)+e[12]-1926607734|0)<<20|n>>>12)+s|0,n=((n+=((s=((s+=((i=((i+=((r=((r+=(n^s^i)+e[5]-378558|0)<<4|r>>>28)+n|0)^n^s)+e[8]-2022574463|0)<<11|i>>>21)+r|0)^r^n)+e[11]+1839030562|0)<<16|s>>>16)+i|0)^i^r)+e[14]-35309556|0)<<23|n>>>9)+s|0,n=((n+=((s=((s+=((i=((i+=((r=((r+=(n^s^i)+e[1]-1530992060|0)<<4|r>>>28)+n|0)^n^s)+e[4]+1272893353|0)<<11|i>>>21)+r|0)^r^n)+e[7]-155497632|0)<<16|s>>>16)+i|0)^i^r)+e[10]-1094730640|0)<<23|n>>>9)+s|0,n=((n+=((s=((s+=((i=((i+=((r=((r+=(n^s^i)+e[13]+681279174|0)<<4|r>>>28)+n|0)^n^s)+e[0]-358537222|0)<<11|i>>>21)+r|0)^r^n)+e[3]-722521979|0)<<16|s>>>16)+i|0)^i^r)+e[6]+76029189|0)<<23|n>>>9)+s|0,n=((n+=((s=((s+=((i=((i+=((r=((r+=(n^s^i)+e[9]-640364487|0)<<4|r>>>28)+n|0)^n^s)+e[12]-421815835|0)<<11|i>>>21)+r|0)^r^n)+e[15]+530742520|0)<<16|s>>>16)+i|0)^i^r)+e[2]-995338651|0)<<23|n>>>9)+s|0,n=((n+=((i=((i+=(n^((r=((r+=(s^(n|~i))+e[0]-198630844|0)<<6|r>>>26)+n|0)|~s))+e[7]+1126891415|0)<<10|i>>>22)+r|0)^((s=((s+=(r^(i|~n))+e[14]-1416354905|0)<<15|s>>>17)+i|0)|~r))+e[5]-57434055|0)<<21|n>>>11)+s|0,n=((n+=((i=((i+=(n^((r=((r+=(s^(n|~i))+e[12]+1700485571|0)<<6|r>>>26)+n|0)|~s))+e[3]-1894986606|0)<<10|i>>>22)+r|0)^((s=((s+=(r^(i|~n))+e[10]-1051523|0)<<15|s>>>17)+i|0)|~r))+e[1]-2054922799|0)<<21|n>>>11)+s|0,n=((n+=((i=((i+=(n^((r=((r+=(s^(n|~i))+e[8]+1873313359|0)<<6|r>>>26)+n|0)|~s))+e[15]-30611744|0)<<10|i>>>22)+r|0)^((s=((s+=(r^(i|~n))+e[6]-1560198380|0)<<15|s>>>17)+i|0)|~r))+e[13]+1309151649|0)<<21|n>>>11)+s|0,n=((n+=((i=((i+=(n^((r=((r+=(s^(n|~i))+e[4]-145523070|0)<<6|r>>>26)+n|0)|~s))+e[11]-1120210379|0)<<10|i>>>22)+r|0)^((s=((s+=(r^(i|~n))+e[2]+718787259|0)<<15|s>>>17)+i|0)|~r))+e[9]-343485551|0)<<21|n>>>11)+s|0,t[0]=r+t[0]|0,t[1]=n+t[1]|0,t[2]=s+t[2]|0,t[3]=i+t[3]|0};var r=t.prototype;return r.start=function(){return this._dataLength=0,this._bufferLength=0,this._state.set(t.stateIdentity),this},r.appendStr=function(e){var r,n,s=this._buffer8,i=this._buffer32,h=this._bufferLength;for(n=0;n<e.length;n+=1){if((r=e.charCodeAt(n))<128)s[h++]=r;else if(r<2048)s[h++]=192+(r>>>6),s[h++]=63&r|128;else if(r<55296||r>56319)s[h++]=224+(r>>>12),s[h++]=r>>>6&63|128,s[h++]=63&r|128;else{if((r=1024*(r-55296)+(e.charCodeAt(++n)-56320)+65536)>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");s[h++]=240+(r>>>18),s[h++]=r>>>12&63|128,s[h++]=r>>>6&63|128,s[h++]=63&r|128}h>=64&&(this._dataLength+=64,t._md5cycle(this._state,i),h-=64,i[0]=i[16])}return this._bufferLength=h,this},r.appendAsciiStr=function(e){for(var r,n=this._buffer8,s=this._buffer32,i=this._bufferLength,h=0;;){for(r=Math.min(e.length-h,64-i);r--;)n[i++]=e.charCodeAt(h++);if(i<64)break;this._dataLength+=64,t._md5cycle(this._state,s),i=0}return this._bufferLength=i,this},r.appendByteArray=function(e){for(var r,n=this._buffer8,s=this._buffer32,i=this._bufferLength,h=0;;){for(r=Math.min(e.length-h,64-i);r--;)n[i++]=e[h++];if(i<64)break;this._dataLength+=64,t._md5cycle(this._state,s),i=0}return this._bufferLength=i,this},r.getState=function(){var t=this,e=t._state;return{buflen:t._bufferLength,length:t._dataLength,state:[e[0],e[1],e[2],e[3]]}},r.setState=function(t){var e,r=t.buffer,n=t.state,s=this._state;for(this._dataLength=t.length,this._bufferLength=t.buflen,s[0]=n[0],s[1]=n[1],s[2]=n[2],s[3]=n[3],e=0;e<r.length;e+=1)this._buffer8[e]=r.charCodeAt(e)},r.end=function(e){void 0===e&&(e=!1);var r,n=this._bufferLength,s=this._buffer8,i=this._buffer32,h=1+(n>>2);if(this._dataLength+=n,s[n]=128,s[n+1]=s[n+2]=s[n+3]=0,i.set(t.buffer32Identity.subarray(h),h),n>55&&(t._md5cycle(this._state,i),i.set(t.buffer32Identity)),(r=8*this._dataLength)<=4294967295)i[14]=r;else{var f=r.toString(16).match(/(.*?)(.{0,8})$/);if(null===f)return;var a=parseInt(f[2],16),u=parseInt(f[1],16)||0;i[14]=a,i[15]=u}return t._md5cycle(this._state,i),e?this._state:t._hex(this._state)},t}());e(n,"stateIdentity",new Int32Array([1732584193,-271733879,-1732584194,271733878])),e(n,"buffer32Identity",new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),e(n,"hexChars","0123456789abcdef"),e(n,"hexOut",[]),e(n,"onePassHasher",new n),"5d41402abc4b2a76b9719d911017c592"!==n.hashStr("hello")&&console.error("Md5 self test failed."),r._RF.pop()}}}));

System.register("chunks:///_virtual/Localization.ts",["cc"],(function(e){"use strict";var r;return{setters:[function(e){r=e.cclegacy}],execute:function(){r._RF.push({},"7f538seo8JDlr6JJ0wc4z8j","Localization",void 0);e("Localization",{Start:{key:"Start",en:"Start",ru:"Начинать",uk:"Почніть",be:"Пачаць",kz:"Бастау",uz:"Boshlash",tr:"Başlangıç"},LeaderBoard:{key:"LeaderBoard",en:"LeaderBoard",ru:"LeaderBoard",uk:"Таблиця лідерів",be:"Табліца лідэраў",kz:"Көшбасшылар тақтасы",uz:"Peshqadamlar kengashi",tr:"Liderler Sıralaması"},TodayBest:{key:"TodayBest",en:"Today Best",ru:"Сегодня лучший",uk:"Сьогодні найкраще",be:"Сёння лепшае",kz:"Бүгін Ең жақсы",uz:"Bugun Eng yaxshi",tr:"Bugün En İyi"},BestScore:{key:"BestScore",en:"Best Score",ru:"Лучший результат",uk:"Найкращий результат",be:"Лепшы бал",kz:"Үздік ұпай",uz:"Eng yaxshi ball",tr:"En iyi puan"},Score:{key:"Score",en:"Score",ru:"Счет",uk:"Оцінка",be:"Ацэнка",kz:"Гол",uz:"Hisob",tr:"Puan"}});r._RF.pop()}}}));

System.register("chunks:///_virtual/toast.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,n,e,o,s,r,a,c,u,l;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized,s=t.defineProperty},function(t){r=t.cclegacy,a=t._decorator,c=t.LabelComponent,u=t.AnimationComponent,l=t.Component}],execute:function(){var p,h,f,d,y;r._RF.push({},"856d3/yN0lPX6Z3VWXGF+Jv","toast",void 0);var v=a.ccclass,g=a.property;t("Toast",(p=v("Toast"),h=g(c),p((y=i((d=function(t){function i(){for(var i,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return i=t.call.apply(t,[this].concat(r))||this,e(o(i),"txt",y,o(i)),s(o(i),"ani",void 0),i}n(i,t);var r=i.prototype;return r.onLoad=function(){this.txt.string="",this.ani=this.node.getComponent(u)},r.setTxtString=function(t){this.txt.string=t},r.playAct=function(){var t=this;this.ani&&(this.ani.play("toast_act1"),this.ani.once("finished",(function(){t.dismiss()})))},r.show=function(t){this.node.active=!0,this.setTxtString(t),this.playAct()},r.dismiss=function(){this.node.active=!1},i}(l)).prototype,"txt",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=d))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/loading.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(i){"use strict";var n,t,e,o,r,a,c,s,l,u;return{setters:[function(i){n=i.applyDecoratedDescriptor,t=i.inheritsLoose,e=i.initializerDefineProperty,o=i.assertThisInitialized,r=i.defineProperty},function(i){a=i.cclegacy,c=i._decorator,s=i.Node,l=i.AnimationComponent,u=i.Component}],execute:function(){var p,d,f,h,g;a._RF.push({},"8766b9Wz75FXry7NUcDenN5","loading",void 0);var y=c.ccclass,v=c.property;i("Loading",(p=y("Loading"),d=v(s),p((g=n((h=function(i){function n(){for(var n,t=arguments.length,a=new Array(t),c=0;c<t;c++)a[c]=arguments[c];return n=i.call.apply(i,[this].concat(a))||this,e(o(n),"Loading",g,o(n)),r(o(n),"ani",void 0),n}t(n,i);var a=n.prototype;return a.start=function(){this.ani=this.Loading.getComponent(l)},a.playAct=function(){this.ani&&this.ani.play("loading_act")},a.show=function(){this.node.active=!0,this.playAct()},a.dismiss=function(){this.node.active=!1},n}(u)).prototype,"Loading",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=h))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/ball.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./gameConfigs.ts","./utils.ts","./pool-manager.ts"],(function(t){"use strict";var e,i,r,o,s,a,n,h,u,c,d,p,P,_,A,m,S,l,T,R,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized,s=t.defineProperty},function(t){a=t.cclegacy,n=t._decorator,h=t.Vec3,u=t.Prefab,c=t.Node,d=t.AnimationComponent,p=t.ParticleSystemComponent,P=t.CameraComponent,_=t.find,A=t.UITransformComponent,m=t.LabelComponent,S=t.instantiate,l=t.Component},function(t){T=t.GameConfigs},function(t){R=t.utils},function(t){f=t.PoolManager}],execute:function(){var B,E,O,L,g,M,C,v,N,D,J;a._RF.push({},"900c8pQ81tCcrbRdvi9SxTB","ball",void 0);var I=n.ccclass,y=n.property,U=new h;t("Ball",(B=I("Ball"),E=y({type:u}),O=y({type:u}),L=y({type:u}),g=y({type:u}),B((v=e((C=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return e=t.call.apply(t,[this].concat(a))||this,r(o(e),"diamondParticlePrefab",v,o(e)),r(o(e),"dropParticlePrefab",N,o(e)),r(o(e),"scoreAniPrefab",D,o(e)),r(o(e),"trail02Prefab",J,o(e)),s(o(e),"currBoard",null),s(o(e),"boardCount",0),s(o(e),"jumpState",T.BALL_JUMP_STATE.JUMPUP),s(o(e),"currBoardIdx",0),s(o(e),"diffLevel",1),s(o(e),"currJumpFrame",0),s(o(e),"currSpeedOff",0),s(o(e),"hasSprint",!1),s(o(e),"isTouch",!1),s(o(e),"touchPosX",0),s(o(e),"movePosX",0),s(o(e),"isJumpSpring",!1),s(o(e),"boardGroupCount",0),s(o(e),"trailNode",null),s(o(e),"_wpos",new h),s(o(e),"animation",void 0),s(o(e),"aniScoreNode",[]),e}i(e,t);var a=e.prototype;return a.start=function(){T.game.node.on(c.EventType.TOUCH_START,this.onTouchStart,this),T.game.node.on(c.EventType.TOUCH_END,this.onTouchEnd,this),T.game.node.on(c.EventType.TOUCH_MOVE,this.onTouchMove,this),this.animation=this.node.getComponent(d),this.reset()},a.onDestroy=function(){T.game.node.off(c.EventType.TOUCH_START,this.onTouchStart,this),T.game.node.off(c.EventType.TOUCH_END,this.onTouchEnd,this),T.game.node.off(c.EventType.TOUCH_MOVE,this.onTouchMove,this)},a.updateBall=function(t){if(T.game.state===T.GAME_STATE.PLAYING){var e=T.game.boardManager,i=e.getBoardList();if(this.jumpState===T.BALL_JUMP_STATE.SPRINT){this.currJumpFrame>T.BALL_JUMP_FRAMES_SPRINT&&(this.jumpState=T.BALL_JUMP_STATE.JUMPUP,this.isJumpSpring=!1,this.currJumpFrame=0,this.hasSprint=!1,e.clearDiamond()),this.currJumpFrame++;for(var r=e.getDiamondSprintList(),o=0;o<T.DIAMOND_NUM;o++)Math.abs(this.node.position.y-r[o].position.y)<=T.DIAMOND_SPRINT_SCORE_AREA&&Math.abs(this.node.position.x-r[o].position.x)<=T.DIAMOND_SPRINT_SCORE_AREA&&(T.game.addScore(T.DIAMOND_SCORE),r[o].active=!1);this.setPosY(),this.setPosX(),this.touchPosX=this.movePosX;var s=this.node.position.y+T.CAMERA_OFFSET_Y_SPRINT;T.game.cameraCtrl.setOriginPosY(s)}else{for(var a=this.node.position,n=this.currBoardIdx+1;n>=0;n--){var h=i[n],u=i[n].node.position;if(Math.abs(a.x-u.x)<=i[n].getRadius()&&Math.abs(a.y-(u.y+T.BOARD_HEIGTH))<=T.DIAMOND_SCORE_AREA&&i[n].checkDiamond(this.node.position.x),this.jumpState===T.BALL_JUMP_STATE.FALLDOWN){if(this.currJumpFrame>T.PLAYER_MAX_DOWN_FRAMES||this.currBoard.node.position.y-this.node.position.y>T.BOARD_GAP+T.BOARD_HEIGTH){this.trailNode.getComponentInChildren(p).stop();var c=T.GAME_STATE.PAUSE;return void(T.game.state!=c&&T.game.gameDie())}if(this.isOnBoard(h)){this.currBoard=h,this.currBoardIdx=n,this.activeCurrBoard();break}}}this.jumpState===T.BALL_JUMP_STATE.JUMPUP&&this.currBoard.type!=T.BOARD_TYPE.SPRING?0==this.currSpeedOff?this.currJumpFrame++:1==this.currSpeedOff?this.currJumpFrame+=1.2:2==this.currSpeedOff?this.currJumpFrame+=1.5:3==this.currSpeedOff&&(this.currJumpFrame+=2):this.currJumpFrame++,this.jumpState===T.BALL_JUMP_STATE.JUMPUP&&(this.isJumpSpring&&this.currJumpFrame>=T.BALL_JUMP_FRAMES_SPRING||!this.isJumpSpring&&this.currJumpFrame>=T.BALL_JUMP_FRAMES)&&(this.jumpState=T.BALL_JUMP_STATE.FALLDOWN,this.currJumpFrame=0),this.setPosY(),this.setPosX(),this.currBoard.type!==T.BOARD_TYPE.SPRINT&&T.game.cameraCtrl.setOriginPosX(this.node.position.x),this.touchPosX=this.movePosX}this.setTrailPos(),this.updataScoreNode()}},a.onTouchStart=function(t,e){T.CANCLICK&&(this.isTouch=!0,this.touchPosX=t.getLocation().x,this.movePosX=this.touchPosX)},a.onTouchMove=function(t,e){T.CANCLICK&&(this.movePosX=t.getLocation().x)},a.onTouchEnd=function(t,e){T.CANCLICK&&(this.isTouch=!1)},a.reset=function(){this.currSpeedOff=0,this.boardCount=0,this.diffLevel=1,U.set(T.BOARD_INIT_POS),U.y+=T.BALL_RADIUS+T.BOARD_HEIGTH/2-.001,this.node.setPosition(U),this.node.eulerAngles=new h,this.currJumpFrame=0,this.jumpState=T.BALL_JUMP_STATE.FALLDOWN,this.hasSprint=!1,this.currBoardIdx=0,this.show(),this.reviveTrail(),this.createTrail(),this.playTrail(),this.setTrailPos()},a.createTrail=function(){this.trailNode=f.instance.getNode(this.trail02Prefab,this.node.parent)},a.reviveTrail=function(){this.trailNode&&(f.instance.putNode(this.trailNode),this.trailNode=null)},a.show=function(){this.node.active=!0},a.hide=function(){this.node.active=!1},a.activeCurrBoard=function(){var t=this.node.position,e=this.currBoard.node.position;T.game.score&&(this.currSpeedOff=Math.floor(T.game.score/1e3),this.currSpeedOff>=2&&(this.currSpeedOff=2));var i=this.currBoard.type,r=e.y+T.BALL_RADIUS+this.currBoard.getHeight()/2-.01;this.node.setPosition(t.x,r,t.z),this.currJumpFrame=0,i===T.BOARD_TYPE.SPRINT?(this.jumpState=T.BALL_JUMP_STATE.SPRINT,T.game.cameraCtrl.setOriginPosX(e.x),this.animation.play("rotate")):(this.jumpState=T.BALL_JUMP_STATE.JUMPUP,this.playDropParticle(new h(t.x,t.y-.6,t.z)),this.animation.play("jump"));var o=T.SCORE_BOARD_NOT_CENTER,s=!1;if(!this.currBoard.isActive){this.currBoard.isActive=!0;var a=Math.abs(t.x-e.x);i>=T.BOARD_TYPE.PROP&&(this.currBoard.showProAct(i),o=R.getRandomInt(2,10)),i!==T.BOARD_TYPE.NORMAL&&i!==T.BOARD_TYPE.DROP&&a<=T.BOARD_RADIUS_CENTER&&(s=!0),i==T.BOARD_TYPE.PROP_8&&(s?T.FORWARD_SCORE+=1:T.FORWARD_SCORE=0),T.game.addScore(o+T.FORWARD_SCORE),this.showScore(o+T.FORWARD_SCORE,s,i),this.boardCount++,5===this.boardCount&&T.game.node.emit(T.GAME_EVENT.HIDETIPS),this.diffLevel+=o/2;for(var n=this.currBoardIdx-T.BOARD_NEW_INDEX;n>0;n--)this.newBoard()}this.isJumpSpring=i===T.BOARD_TYPE.SPRING,this.currBoard.setBump(),this.currBoard.setWave(),i!=T.BOARD_TYPE.SPRING&&i!=T.BOARD_TYPE.SPRINT||this.currBoard.setSpring();var u=T.game.boardManager.getBoardList();if(i===T.BOARD_TYPE.DROP)for(var c=0;c<this.currBoardIdx;c++)u[c].setDrop();var d=e.y+T.CAMERA_OFFSET_Y;T.game.cameraCtrl.setOriginPosY(d),T.game.cameraCtrl.preType=i},a.newBoard=function(){var t=T.BOARD_TYPE.NORMAL;if(T.CREATECOLOR_BOARD-=1,T.CREATESTAR_BOARD-=1,this.boardGroupCount<=0){var e=R.getDiffCoeff(this.diffLevel,1,15),i=Math.random()*e;i<4?(t=R.getRandomInt(T.BOARD_TYPE.PROP,T.BOARD_TYPE.PROP_7),this.boardGroupCount=2):i<8.2?(t=T.BOARD_TYPE.NORMAL,this.boardGroupCount=2):i<=9.5?(t=T.BOARD_TYPE.GIANT,this.boardGroupCount=3):i<=10.2?(t=T.BOARD_TYPE.SPRING,Math.random()>.5&&(this.boardGroupCount=2)):i<=11&&!1===this.hasSprint?(t=T.BOARD_TYPE.SPRINT,this.hasSprint=!0):t=T.BOARD_TYPE.NORMAL}0==T.CREATECOLOR_BOARD&&(T.CREATECOLOR_BOARD=R.getRandomInt(20,40),t=T.BOARD_TYPE.COLOR,this.boardGroupCount=2),0==T.CREATESTAR_BOARD&&(T.CREATESTAR_BOARD=R.getRandomInt(5,15),t=T.BOARD_TYPE.PROP_8,this.boardGroupCount=2),this.boardGroupCount--,T.game.boardManager.newBoard(t,this.diffLevel)},a.getHideScoreNode=function(){for(var t=0;t<this.aniScoreNode.length;t++)if(!this.aniScoreNode[t].active)return this.aniScoreNode[t];return null},a.showScore=function(t,e,i){if(this.aniScoreNode.length>0){var r=this.getHideScoreNode();if(r){r.active=!0;var o=new h,s=T.game.cameraCtrl.node.getComponent(P);r.goal=this.currBoard.node,this._wpos.set(this.currBoard.node.worldPosition),s.worldToScreen(this._wpos,o),o=_("Canvas/resultUI").getComponent(A).convertToNodeSpaceAR(o),r.setPosition(o),r.getComponentInChildren(m).string="+"+t;var a=r.getComponent(d);a.once("finished",(function(){r.active=!1})),a.play()}else this.createScoreAni(t,e,i)}else this.createScoreAni(t,e,i)},a.createScoreAni=function(t,e,i){var r=S(this.scoreAniPrefab);if(r){r.parent=_("Canvas/resultUI"),this.aniScoreNode.push(r);var o=new h,s=T.game.cameraCtrl.node.getComponent(P);if(r.goal=this.currBoard.node,this._wpos.set(this.currBoard.node.worldPosition),s.worldToScreen(this._wpos,o),o=_("Canvas/resultUI").getComponent(A).convertToNodeSpaceAR(o),r.setPosition(o),e&&i==T.BOARD_TYPE.PROP_8){var a=R.getRandomInt(0,7);r.getComponentInChildren(m).string=["666","牛","棒极了","漂亮","牛","完美","神了","再来"][a]+"\n+"+t}else r.getComponentInChildren(m).string="+"+t;var n=r.getComponent(d);n.once("finished",(function(){r.active=!1})),n.play()}},a.updataScoreNode=function(){for(var t=0;t<this.aniScoreNode.length;t++){var e=this.aniScoreNode[t];if(e.active){var i=new h,r=T.game.cameraCtrl.node.getComponent(P);this._wpos.set(e.goal.worldPosition),r.worldToScreen(this._wpos,i),(i=_("Canvas/resultUI").getComponent(A).convertToNodeSpaceAR(i)).y+=50,i.x+=50,e.setPosition(i)}}},a.setPosX=function(){if(this.isTouch&&this.touchPosX!==this.movePosX)if(U.set(this.node.position),this.jumpState===T.BALL_JUMP_STATE.SPRINT){var t=(this.movePosX-this.touchPosX)*T.COEFF_POS_BALL;this.node.setPosition(U.x+t,U.y,U.z),U.set(this.node.position),t=U.x;var e=1.3*T.SCENE_MAX_OFFSET_X,i=this.currBoard.node.position;t>i.x+e?this.node.setPosition(i.x+e,U.y,U.z):t<this.currBoard.node.position.x-e&&this.node.setPosition(i.x-e,U.y,U.z)}else{var r=(this.movePosX-this.touchPosX)*T.COEFF_POS_BALL;this.node.setPosition(U.x+r,U.y,U.z)}},a.setPosY=function(){U.set(this.node.position),this.jumpState===T.BALL_JUMP_STATE.JUMPUP?(this.isJumpSpring?U.y+=T.BALL_JUMP_STEP_SPRING[Math.floor(this.currJumpFrame/3)]:0==this.currSpeedOff?U.y+=T.BALL_JUMP_STEP[Math.floor(this.currJumpFrame/2)]:1==this.currSpeedOff?U.y+=T.BALL_JUMP_STEP1[Math.floor(this.currJumpFrame/2.4)]:2==this.currSpeedOff?U.y+=T.BALL_JUMP_STEP2[Math.floor(this.currJumpFrame/3)]:3==this.currSpeedOff&&(U.y+=T.BALL_JUMP_STEP3[Math.floor(this.currJumpFrame/4)]),this.node.setPosition(U)):this.jumpState===T.BALL_JUMP_STATE.FALLDOWN?(this.currBoard.type===T.BOARD_TYPE.SPRING?this.currJumpFrame<T.BALL_JUMP_FRAMES_SPRING?U.y-=T.BALL_JUMP_STEP_SPRING[Math.floor((T.BALL_JUMP_FRAMES_SPRING-this.currJumpFrame-1)/3)]:U.y-=T.BALL_JUMP_STEP_SPRING[0]:this.currJumpFrame<T.BALL_JUMP_FRAMES?U.y-=T.BALL_JUMP_STEP[Math.floor((T.BALL_JUMP_FRAMES-this.currJumpFrame-1)/2)]:U.y-=T.BALL_JUMP_STEP[0],this.node.setPosition(U)):this.jumpState===T.BALL_JUMP_STATE.SPRINT&&(U.y+=T.BALL_JUMP_STEP_SPRINT,this.node.setPosition(U),this.currJumpFrame>=T.DIAMOND_START_FRAME+20&&this.currJumpFrame<=T.BALL_JUMP_FRAMES_SPRINT-20&&this.currJumpFrame%Math.floor(T.DIAMOND_SPRINT_STEP_Y/T.BALL_JUMP_STEP_SPRINT)==0&&T.game.boardManager.newDiamond())},a.isOnBoard=function(t){var e=this.node.position,i=t.node.position,r=e.x-i.x,o=Math.abs(r),s=e.y-i.y,a=!1;return o<=t.getRadius()&&(s>=0&&s<=T.BALL_RADIUS+t.getHeight()/2&&(a=!0),this.isJumpSpring&&this.currJumpFrame>=T.BALL_JUMP_FRAMES_SPRING?Math.abs(s)<T.BALL_JUMP_STEP_SPRING[0]&&(a=!0):!this.isJumpSpring&&this.currJumpFrame>=T.BALL_JUMP_FRAMES&&Math.abs(s)<T.BALL_JUMP_STEP[0]&&(a=!0)),a&&t.showCenter(r),a},a.revive=function(){this.currBoardIdx--,this.currBoard.type===T.BOARD_TYPE.SPRINT&&(this.currBoardIdx++,this.currBoard=T.game.boardManager.getBoardList()[this.currBoardIdx]),this.currSpeedOff=0,this.currBoard.revive();var t=this.currBoard.node.position.clone();t.y+=T.BALL_RADIUS+this.currBoard.getHeight()/2-.001,this.node.setPosition(t),this.node.eulerAngles=new h(0,0,0),this.currJumpFrame=0,this.show();var e=this.currBoard.node.position.y+T.CAMERA_OFFSET_Y;T.game.cameraCtrl.setOriginPosX(t.x),T.game.cameraCtrl.setOriginPosY(e),this.playTrail(),this.setTrailPos()},a.playDiamondParticle=function(t){},a.playDropParticle=function(t){var e=this,i=f.instance.getNode(this.dropParticlePrefab,this.node.parent);i.setPosition(t);var r=i.getComponent(p);r.play();this.schedule((function t(){r.isPlaying||(f.instance.putNode(i),e.unschedule(t))}),.1)},a.playTrail=function(){this.trailNode.active=!0,this.trailNode.getComponentInChildren(p).play()},a.setTrailPos=function(){var t=this.node.position;this.trailNode.setPosition(t.x,t.y-.1,t.z)},e}(l)).prototype,"diamondParticlePrefab",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(C.prototype,"dropParticlePrefab",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(C.prototype,"scoreAniPrefab",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(C.prototype,"trail02Prefab",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=C))||M));a._RF.pop()}}}));

System.register("chunks:///_virtual/AdsMgr.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(a){"use strict";var t,e,i;return{setters:[function(a){t=a.defineProperty},function(a){e=a.cclegacy,i=a.sys}],execute:function(){e._RF.push({},"93d42AJ76pCHZdix1figfBm","AdsMgr",void 0);var o=a("AdsMgr",function(){function a(){}return a.loadBannerAd=function(){var a="loadBannerAd";if(i.os==i.OS.ANDROID&&i.isNative){jsb.reflection.callStaticMethod("com/cocos/game/AdManage",a,"(Ljava/lang/String;)V",this.AD_BANNER_ID)}else i.os==i.OS.IOS&&i.isNative&&(a="loadBannerAd",jsb.reflection.callStaticMethod("AdmobHelper",a,""))},a.showBannerAd=function(){i.os==i.OS.ANDROID&&i.isNative&&jsb.reflection.callStaticMethod("com/cocos/game/AdManage","showBannerAd","()V")},a.hideBannerAd=function(){i.os==i.OS.ANDROID&&i.isNative&&jsb.reflection.callStaticMethod("com/cocos/game/AdManage","hideBannerAd","()V")},a.loadInterstitialAd=function(){var a="loadInterstitialAd";if(i.os==i.OS.ANDROID&&i.isNative){jsb.reflection.callStaticMethod("com/cocos/game/AdManage",a,"(Ljava/lang/String;)V",this.AD_INTRRS_ID)}else i.os==i.OS.IOS&&i.isNative&&(a="loadInterstitialAd",jsb.reflection.callStaticMethod("AdmobHelper",a,""))},a.showInterstitialAd=function(){var a="showInterstitialAd";i.os==i.OS.ANDROID&&i.isNative?jsb.reflection.callStaticMethod("com/cocos/game/AdManage","showInterstitialAd","()V"):i.os==i.OS.IOS&&i.isNative&&(a="showInterstitialAd",jsb.reflection.callStaticMethod("AdmobHelper",a,""))},a.analyticsLogEvent=function(a){i.os==i.OS.ANDROID&&i.isNative?jsb.reflection.callStaticMethod("com/cocos/game/FirebaseLogUtils","analyticsLogEvent","(Ljava/lang/String;)V",a):i.os==i.OS.IOS&&i.isNative&&jsb.reflection.callStaticMethod("DataAnalytics","AnalyticsEventName:andParmName1:andParmValue1:",a,"paramerterName","parameterValue")},a}());t(o,"AD_BANNER_ID","ca-app-pub-2365855890300404/2112393605"),t(o,"AD_INTRRS_ID","ca-app-pub-2365855890300404/8486230265"),t(o,"AD_VIDEO_ID","ca-app-pub-2365855890300404/3635200201"),e._RF.pop()}}}));

System.register("chunks:///_virtual/camera-ctrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./gameConfigs.ts"],(function(i){"use strict";var o,t,e,s,n,r,a,h,l,_,C,c,p;return{setters:[function(i){o=i.applyDecoratedDescriptor,t=i.inheritsLoose,e=i.initializerDefineProperty,s=i.assertThisInitialized,n=i.defineProperty},function(i){r=i.cclegacy,a=i._decorator,h=i.Vec3,l=i.Node,_=i.ModelComponent,C=i.Color,c=i.Component},function(i){p=i.GameConfigs}],execute:function(){var u,g,P,d,A;r._RF.push({},"b5204GgQaBDNqMtOdI4KDJl","camera-ctrl",void 0);var M=a.ccclass,f=a.property,m=new h;i("CameraCtrl",(u=M("CameraCtrl"),g=f(l),u((A=o((d=function(i){function o(){for(var o,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return o=i.call.apply(i,[this].concat(r))||this,e(s(o),"planeNode",A,s(o)),n(s(o),"preType",p.BOARD_TYPE.NORMAL),n(s(o),"_originPos",new h),n(s(o),"pass",void 0),n(s(o),"_initialColor",void 0),n(s(o),"_handle",void 0),n(s(o),"colorChangeFrame",180),n(s(o),"curChangeFrame",0),n(s(o),"needLerpColor",void 0),n(s(o),"outColor",void 0),o}t(o,i);var r=o.prototype;return r.start=function(){this._originPos.set(p.CAMERA_INIT_POS),this.setPosition(this._originPos),this.node.eulerAngles=p.CAMERA_INIT_ROT,this.curChangeFrame=0,this.needLerpColor=!1;var i=this.planeNode.getComponentInChildren(_).material;this.pass=i.passes[0],this.outColor=new C,this._handle=this.pass.getHandle("mainColor"),this._initialColor=new C(176,204,218,108),this.pass.setUniform(this._handle,this._initialColor)},r.setOriginPosX=function(i){this._originPos.x=i},r.setOriginPosY=function(i){this._originPos.y=i},r.updateCamera=function(i){if(this.needLerpColor){var o=p.CHANGEBG_COLOR[p.CHANGECOLOR_TIME%5];this.curChangeFrame++,C.lerp(this.outColor,this._initialColor,o,this.curChangeFrame/this.colorChangeFrame),this.pass.setUniform(this._handle,this.outColor),this.curChangeFrame>=this.colorChangeFrame&&(this.needLerpColor=!1,this.curChangeFrame=0,this._initialColor=o.clone())}if(m.set(this.node.position),m.x!==this._originPos.x||m.y!==this._originPos.y){if(Math.abs(m.x-this._originPos.x)<=p.CAMERA_MOVE_MINI_ERR)m.x=this._originPos.x,this.setPosition(m);else{var t=this._originPos.x-m.x;m.x+=t/p.CAMERA_MOVE_X_FRAMES,this.setPosition(m)}if(m.set(this.node.position),Math.abs(m.y-this._originPos.y)<=p.CAMERA_MOVE_MINI_ERR)m.y=this._originPos.y,this.setPosition(m);else{var e=this._originPos.y-m.y;this.preType===p.BOARD_TYPE.SPRING?(m.y+=e/p.CAMERA_MOVE_Y_FRAMES_SPRING,this.setPosition(m)):(p.game.ball.jumpState===p.BALL_JUMP_STATE.SPRINT?m.y+=e/(p.CAMERA_MOVE_Y_FRAMES/2):m.y+=e/p.CAMERA_MOVE_Y_FRAMES,this.setPosition(m))}}},r.changeBgColor=function(){this.needLerpColor=!0},r.reset=function(){this._originPos.set(p.CAMERA_INIT_POS),this.setPosition(this._originPos),this.pass.setUniform(this._handle,this._initialColor)},r.setPosition=function(i){this.node.setPosition(i);var o=i.y-27;this.planeNode.setPosition(i.x,o,-100)},o}(c)).prototype,"planeNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=d))||P));r._RF.pop()}}}));

System.register("chunks:///_virtual/board.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./gameConfigs.ts","./utils.ts"],(function(i){"use strict";var t,e,s,n,o,r,a,h,p,c,l,d,f,g,P,R,u,_;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,s=i.initializerDefineProperty,n=i.assertThisInitialized,o=i.defineProperty},function(i){r=i.cclegacy,a=i._decorator,h=i.Vec3,p=i.Prefab,c=i.Node,l=i.ModelComponent,d=i.Color,f=i.ParticleSystemComponent,g=i.instantiate,P=i.AnimationComponent,R=i.Component},function(i){u=i.GameConfigs},function(i){_=i.utils}],execute:function(){var A,m,C,S,D,O,v,E,T,I,B,y,L,H,N;r._RF.push({},"bb50aLcTl1FbpB7Hy0H/DT9","board",void 0);var b=a.ccclass,F=a.property,M=new h;i("Board",(A=b("Board"),m=F(p),C=F({type:c}),S=F({type:p}),D=F({type:p}),O=F({type:p}),v=F({type:p}),A((I=t((T=function(i){function t(){for(var t,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return t=i.call.apply(i,[this].concat(r))||this,s(n(t),"diamondPrefab",I,n(t)),s(n(t),"center",B,n(t)),s(n(t),"wavePrefab",y,n(t)),s(n(t),"springTopPrefab",L,n(t)),s(n(t),"springHelixPrefab",H,n(t)),s(n(t),"boardParticlePrefab",N,n(t)),o(n(t),"isActive",!1),o(n(t),"diamondList",[]),o(n(t),"boardScore",null),o(n(t),"boardParticle",null),o(n(t),"type",u.BOARD_TYPE.NORMAL),o(n(t),"wave",null),o(n(t),"waveInner",null),o(n(t),"waveOriginScale",new h),o(n(t),"currWaveFrame",0),o(n(t),"currCenterFrame",0),o(n(t),"currSpringFrame",0),o(n(t),"currBumpFrame",u.BOARD_BUMP_FRAMES),o(n(t),"springTop",null),o(n(t),"springHelix",null),o(n(t),"springHelixOriginScale",new h),o(n(t),"isMovingRight",!0),o(n(t),"hasDiamond",!1),o(n(t),"isMoving",!1),o(n(t),"posBeforeDrop",new h),o(n(t),"originScale",new h),o(n(t),"currDropFrame",u.BOARD_DROP_FRAMES),o(n(t),"canChangeColor",!1),o(n(t),"needLerpColor",!1),o(n(t),"_isComperColor",!1),o(n(t),"_game",null),o(n(t),"_handle",void 0),o(n(t),"_initialColor",void 0),o(n(t),"centerOffX",void 0),o(n(t),"colorChangeFrame",30),o(n(t),"curChangeFrame",0),o(n(t),"pass",void 0),t}e(t,i);var r=t.prototype;return r.onLoad=function(){this.originScale.set(new h(.9,.5,.9));var i=this.node.getComponentInChildren(l).material;this.pass=i.passes[0],this._handle=this.pass.getHandle("mainColor"),this._initialColor=new d(195,241,255,255),this.pass.setUniform(this._handle,this._initialColor),this.centerOffX=0,this.initCenter(),this.initWave(),this.initSpring(),this.initDiamond(),this.initBoardParticle()},r.updateBoard=function(i){if(this.effectBump(),this.effectWave(),this.currCenterFrame<=u.BOARD_CENTER_FRAMES?this.currCenterFrame++:this.center.active=!1,this.needLerpColor&&!this.canChangeColor){var t=u.CHANGE_COLOR[u.CHANGECOLOR_TIME%5],e=new d,s=u.ENDSCALE.clone();this.curChangeFrame++,h.lerp(u.CURSCALE,u.INITIALSCALE,s,this.curChangeFrame/this.colorChangeFrame),d.lerp(e,this._initialColor,t,this.curChangeFrame/this.colorChangeFrame),this.pass.setUniform(this._handle,e),this.node.setScale(u.CURSCALE),this.curChangeFrame>=this.colorChangeFrame&&(this.needLerpColor=!1,this.curChangeFrame=0,this._initialColor=t.clone(),u.INITIALSCALE=u.CURSCALE)}this.type!==u.BOARD_TYPE.SPRING&&this.type!==u.BOARD_TYPE.SPRINT||this.effectSpring(),this.effectDrop(),this.effectMove(),this.hasDiamond&&this.effectDiamondRotate()},r.reset=function(i,t,e,s){if(this.isActive=!1,this.type=i,this._isComperColor=!1,this.node.setPosition(t),0==u.COME_COUNT);else{u.COME_COUNT-=1;var n=.02;u.INITIALSCALE.x>.65&&(u.INITIALSCALE.x-=n,u.CURSCALE.x-=n),u.INITIALSCALE.z>.65&&(u.INITIALSCALE.z-=n,u.CURSCALE.z-=n)}if(this.canChangeColor&&this.effectColor(),this.node.setRotationFromEuler(0,45,0),this.isMoving=!1,this.boardParticle.active=!1,this.canChangeColor=!1,this.needLerpColor=!1,this.type!==u.BOARD_TYPE.NORMAL&&this.type!==u.BOARD_TYPE.DROP&&this.type!==u.BOARD_TYPE.SPRING||(this.isMoving=this.setMove(e)),this.type===u.BOARD_TYPE.GIANT?(this.node.setScale(this.originScale.x*u.BOARD_SCALE_GIANT,this.originScale.y,this.originScale.z),this.node.setRotation(0,0,0,0)):this.type===u.BOARD_TYPE.DROP?(this.node.setScale(this.originScale.x,this.originScale.y*u.BOARD_HEIGTH_SCALE_DROP,this.originScale.z),this.posBeforeDrop.set(this.node.position)):this.node.setScale(u.CURSCALE),this.springTop.active=!1,this.type===u.BOARD_TYPE.SPRING&&(this.springHelix.active=!0,this.springTop.active=!0,this.setSpringPos()),this.type===u.BOARD_TYPE.SPRINT&&(this.springHelix.active=!0,this.springTop.active=!0,this.setSpringPos()),this.type===u.BOARD_TYPE.COLOR){this.boardParticle.active=!0;var o=this.boardParticle.getComponent(f);o.play(),o.loop=!0}if(this.hasDiamond=!1,this.diamondList[0]){for(var r=0;r<5;r++)this.diamondList[r].active=!1;if(s){if(this.type===u.BOARD_TYPE.GIANT)for(var a=0;a<5;a++)this.diamondList[a].active=!0,this.hasDiamond=!0;else this.type!==u.BOARD_TYPE.NORMAL&&this.type!==u.BOARD_TYPE.DROP||Math.random()>.9&&(this.diamondList[2].active=!0,this.hasDiamond=!0);this.hasDiamond&&this.setDiamondPos()}}},r.setDrop=function(){this.currDropFrame=0,this.posBeforeDrop.set(this.node.position)},r.effectDrop=function(){if(this.currDropFrame<u.BOARD_DROP_FRAMES){for(var i=0;i<5;i++)this.diamondList[i].active=!1;if(this.springTop.active){this.springHelix.active=!1;var t=this.springTop.position;this.springTop.setPosition(t.x,t.y-u.BOARD_DROP_STEP,t.z)}M.set(this.node.position),M.y-=u.BOARD_DROP_STEP,this.node.setPosition(M),this.setCenterPos(),this.currDropFrame++}},r.initDiamond=function(){for(var i=0;i<5;i++)this.diamondList[i]=g(this.diamondPrefab),this.node.parent.addChild(this.diamondList[i]),this.diamondList[i].active=!1},r.initBoardParticle=function(){this.boardParticle=g(this.boardParticlePrefab),this.node.addChild(this.boardParticle),this.boardParticle.active=!1},r.setDiamondPos=function(){for(var i=new h,t=0;t<5;t++)this.diamondList[t].active&&(i.set(this.node.position),i.x+=1.4*(t-2),i.y+=u.BOARD_HEIGTH,this.diamondList[t].setPosition(i))},r.hideDiamond=function(i){this.diamondList[i].active=!1},r.checkDiamond=function(i){if(this.hasDiamond){for(var t=!0,e=0;e<5;e++)this.diamondList[e].active&&(t=!1,Math.abs(i-this.diamondList[e].position.x)<=u.DIAMOND_SCORE_AREA&&(this.hideDiamond(e),u.game.addScore(u.DIAMOND_SCORE)));t&&(this.hasDiamond=!1)}else this.type==u.BOARD_TYPE.COLOR&&Math.abs(i-this.node.position.x)<=u.DIAMOND_SCORE_AREA&&(this.boardParticle.active=!1,u.game.changeBoardColor(this),u.COME_COUNT=20)},r.effectDiamondRotate=function(){for(var i=0;i<5;i++){var t=this.diamondList[i].eulerAngles;this.diamondList[i].eulerAngles=new h(t.x,t.y+u.DIAMOND_ROTATE_STEP_Y,t.z)}},r.initSpring=function(){this.springHelix=g(this.springHelixPrefab),this.springHelixOriginScale=this.springHelix.getScale(),this.springHelix.setScale(1.5,1,1.5),this.node.parent.addChild(this.springHelix),this.springHelix.active=!1,this.currSpringFrame=2*u.BOARD_SPRING_FRAMES,this.springTop=g(this.springTopPrefab),this.node.parent.addChild(this.springTop),this.springTop.active=!1;var i=this.node.position.clone();i.y+=(u.BOARD_HEIGTH+u.SPRING_HEIGHT)/2,this.springTop.setPosition(i),this.setSpringPos()},r.setSpring=function(){this.currSpringFrame=0,this.setSpringPos(),this.springHelix.setScale(1.5,1,1.5),this.springHelix.active=!0,this.springTop.active=!0},r.setSpringPos=function(){var i=this.node.position.clone();i.y+=u.BOARD_HEIGTH/2,this.springHelix.setPosition(i),(i=this.node.position.clone()).y+=(u.BOARD_HEIGTH+u.SPRING_HEIGHT)/2,this.springTop.setPosition(i)},r.effectSpring=function(){var i=this.type===u.BOARD_TYPE.SPRINT?u.SPRING_HELIX_STEP_SPIRNT:u.SPRING_HELIX_STEP,t=this.type===u.BOARD_TYPE.SPRINT?u.SPRING_TOP_STEP_SPRINT:u.SPRING_TOP_STEP,e=this.springHelix.scale,s=this.springTop.position;this.currSpringFrame<u.BOARD_SPRING_FRAMES?(this.springHelix.setScale(e.x,e.y+i,e.z),this.springTop.setPosition(s.x,s.y+t,s.z),this.currSpringFrame++):this.currSpringFrame>=u.BOARD_SPRING_FRAMES&&this.currSpringFrame<2*u.BOARD_SPRING_FRAMES?(this.springHelix.setScale(e.x,e.y-i,e.z),this.springTop.setPosition(s.x,s.y-t,s.z),this.currSpringFrame++):this.springHelix.active=!1},r.setBump=function(){this.currBumpFrame=0},r.effectBump=function(){if(this.currBumpFrame<u.BOARD_BUMP_FRAMES){var i=this.node.position;this.node.setPosition(i.x,i.y+u.BOARD_BUMP_STEP[this.currBumpFrame],i.z),this.setCenterPos(),this.currBumpFrame++}},r.initCenter=function(){this.center.active=!1},r.showCenter=function(i){this.type!=u.BOARD_TYPE.GIANT&&(Math.abs(i)>.92&&(i=i>0?.92:-.92),this.centerOffX=i,this.center.active=!0,this.currCenterFrame=0)},r.setCenterPos=function(){var i=new h;i.x=this.centerOffX,i.y=.325,i.z=this.centerOffX,this.center.setPosition(i)},r.initWave=function(){this.waveInner=g(this.wavePrefab),this.node.addChild(this.waveInner),this.waveInner.active=!0},r.setWave=function(){var i=this;if(this.type!=u.BOARD_TYPE.GIANT){this.waveInner.active=!0;var t=this.waveInner.getComponent(P);t.play("fangk_act1"),t.once("finished",(function(){i.waveInner.active=!1}))}},r.effectColor=function(){var i=this.node.getComponentInChildren(l).material.passes[0],t=i.getHandle("mainColor"),e=u.CHANGE_COLOR[u.CHANGECOLOR_TIME%5];i.setUniform(t,e)},r.effectWave=function(){},r.getHeight=function(){return this.type===u.BOARD_TYPE.DROP?u.BOARD_HEIGTH*u.BOARD_HEIGTH_SCALE_DROP:u.BOARD_HEIGTH},r.getRadius=function(){return this.type===u.BOARD_TYPE.GIANT?1.2*u.BOARD_RADIUS_SCALE_GIANT:this.type>=u.BOARD_TYPE.PROP?u.PRO_BOARD_RADIUS:u.BOARD_RADIUS*this.node.scale.x},r.setMove=function(i){var t=_.getDiffCoeff(i,1,10);return Math.random()*t>5},r.effectMove=function(){if(this.isMoving){var i=this.node.getPosition().clone(),t=i.x;this.isMovingRight&&t<=u.SCENE_MAX_OFFSET_X?(t+=u.BOARD_MOVING_STEP,this.node.setPosition(t,i.y,i.z)):this.isMovingRight&&t>u.SCENE_MAX_OFFSET_X?this.isMovingRight=!1:!this.isMovingRight&&t>=-u.SCENE_MAX_OFFSET_X?(t-=u.BOARD_MOVING_STEP,this.node.setPosition(t,i.y,i.z)):!this.isMovingRight&&t<-u.SCENE_MAX_OFFSET_X&&(this.isMovingRight=!0),this.type===u.BOARD_TYPE.SPRING&&(this.springHelix.setPosition(this.node.position.x,this.springHelix.position.y,this.springHelix.position.z),this.springTop.setPosition(this.node.position.x,this.springTop.position.y,this.springTop.position.z)),this.setCenterPos(),this.hasDiamond&&this.setDiamondPos()}},r.revive=function(){this.isActive=!1,this.isMoving=!1,this.hasDiamond=!1;for(var i=0;i<5;i++)this.diamondList[0]&&(this.diamondList[i].active=!1);this.type===u.BOARD_TYPE.DROP&&(this.currDropFrame=u.BOARD_DROP_FRAMES,this.node.setPosition(this.posBeforeDrop))},t}(R)).prototype,"diamondPrefab",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(T.prototype,"center",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(T.prototype,"wavePrefab",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(T.prototype,"springTopPrefab",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(T.prototype,"springHelixPrefab",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(T.prototype,"boardParticlePrefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=T))||E));r._RF.pop()}}}));

System.register("chunks:///_virtual/FbFunc.ts",["cc","./gameConfigs.ts"],(function(n){"use strict";var t,e;return{setters:[function(n){t=n.cclegacy},function(n){e=n.GameSystemManager}],execute:function(){t._RF.push({},"d0d27HKSEVEcYTio3kdO+fZ","FbFunc",void 0);n("default",function(){function n(){}return n.setRankScore=function(n){if("undefined"!=typeof FBInstant){var t,e=FBInstant.context.getID();if(null!=e)FBInstant.getLeaderboardAsync("myRank."+e).then((function(e){return t=e,e.setScoreAsync(n,'{race: "elf", level: 3}')})).then((function(n){return t.getEntriesAsync()})).then((function(n){})).catch((function(n){}))}},n.postSessionScore=function(){"undefined"!=typeof FBInstant&&FBInstant.postSessionScore(e.getInstance().allBest)},n}());t._RF.pop()}}}));

System.register("chunks:///_virtual/StorageMgr.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./gameConfigs.ts","./FbLanguage.ts","./FbFunc.ts"],(function(e){"use strict";var t,a,n,s,l,c;return{setters:[function(e){t=e.defineProperty},function(e){a=e.cclegacy,n=e.sys},function(e){s=e.GameSystemManager},function(e){l=e.default},function(e){c=e.default}],execute:function(){a._RF.push({},"d6681yOOSlP2KzUIZt6wKAb","StorageMgr",void 0);var r=e("default",function(){function e(){}e.getInstance=function(){return null==this._instance&&(this._instance=new e),this._instance};var t=e.prototype;return t.init=function(){this.readIfNewUser(),this.readIsSound(),this.readAdsClickNum(),this.readBestScore(),this.readPlayCnt()},t.readIfNewUser=function(){var e=n.localStorage.getItem("ifNewUser_1");e&&null!=e?s.getInstance().isNewUser=1:(n.localStorage.clear(),n.localStorage.setItem("ifNewUser_1","1"),s.getInstance().isNewUser=0)},t.readSetLanguage=function(){var e=n.localStorage.getItem("curLanguage");e&&null!=e?s.getInstance().curLanguage=e:l.initLocalLanguage()},t.saveSetLanguage=function(){n.localStorage.setItem("curLanguage",s.getInstance().curLanguage)},t.readAdsClickNum=function(){s.getInstance().numClickAdsBanner=parseInt(n.localStorage.getItem("numClickAdsBanner"))||0},t.saveAdsClickNum=function(){},t.readIsSound=function(){var e=n.localStorage.getItem("isSound");s.getInstance().isSound=null==e?1:parseInt(e)},t.saveIsSound=function(){n.localStorage.setItem("isSound",s.getInstance().isSound.toString())},t.readBestScore=function(){var e=(new Date).toLocaleDateString();if(e==n.localStorage.getItem("stTodayDate")){var t=n.localStorage.getItem("dayBest_3ggwwqq_212sa");t&&(s.getInstance().dayBest=parseInt(t))}else s.getInstance().numClickAdsBanner=0,n.localStorage.setItem("stTodayDate",e);var a=n.localStorage.getItem("allBest_3ggwwqq_212sa");a&&(s.getInstance().allBest=parseInt(a))},t.saveBestScore=function(e){e>s.getInstance().dayBest&&(s.getInstance().dayBest=e,n.localStorage.setItem("dayBest_3ggwwqq_212sa",s.getInstance().dayBest.toString())),e>s.getInstance().allBest&&(s.getInstance().allBest=e,n.localStorage.setItem("allBest_3ggwwqq_212sa",s.getInstance().allBest.toString()),c.setRankScore(e))},t.readPlayCnt=function(){var e=n.localStorage.getItem("playCnt");s.getInstance().allPlayCnt=null==e?0:parseInt(e)},t.savePlayCnt=function(){s.getInstance().allPlayCnt++,n.localStorage.setItem("playCnt",s.getInstance().allPlayCnt.toString())},e}());t(r,"_instance",null),a._RF.pop()}}}));

System.register("chunks:///_virtual/rankLayer.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./gameConfigs.ts","./utils.ts"],(function(e){"use strict";var t,n,a,i,r,o,s,l,c,m,g,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.defineProperty},function(e){o=e.cclegacy,s=e._decorator,l=e.Node,c=e.instantiate,m=e.Component},function(e){g=e.GameConfigs},function(e){d=e.utils}],execute:function(){var u,h,y,p,f,k,L,b,v;o._RF.push({},"d80dfy1w4tD8LxaXDZ7F6rh","rankLayer",void 0);var C=s.ccclass,N=s.property;e("rankLayer",(u=C("rankLayer"),h=N(l),y=N(l),p=N(l),u((L=t((k=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,a(i(t),"content",L,i(t)),a(i(t),"rankItem",b,i(t)),a(i(t),"myRank",v,i(t)),r(i(t),"delegate",void 0),r(i(t),"viewitemTemp",null),t}n(t,e);var o=t.prototype;return o.onLoad=function(){this.viewitemTemp=this.content.children[0],this.content.removeChild(this.viewitemTemp)},o.onEnable=function(){this.getRank()},o.initMyRankInfo=function(e){var t=this.rankItem.getComponent("rankItem");t.showNo1Sp(!1),e.rank?(e.rank>20?t.rankNumLable.string="20+":t.rankNumLable.string=e.rank,1==e.rank&&t.showNo1Sp(!0)):t.rankNumLable.string="20+",e.score?t.scoreLable.string=e.score:t.scoreLable.string="0";var n=d.addSignUrl(e.headimage);e.uid=0,d.loadHead(t.headSp,e.uid,n),t.nameLable.string=e.nickname},o.getRank=function(){var e=this;if(this.content.removeAllChildren(),g.game.showLoading(),"undefined"!=typeof FBInstant){var t,n=FBInstant.player.getName(),a=FBInstant.player.getPhoto(),i=this.myRank.getChildByName("rankNum"),r=this.myRank.getChildByName("name"),o=this.myRank.getChildByName("sorceNum"),s=this.myRank.getChildByName("headMask").getChildByName("SpriteHead");this.myRank.active=!1;var l=FBInstant.context.getID();null!=l?FBInstant.getLeaderboardAsync("myRank."+l).then((function(e){return e.getEntriesAsync(30,0)})).then((function(a){t=a;for(var l=!1,c=0;c<t.length;++c){var m=t[c],u=m.$1,h=m.$6,y=h.$1,p=h.$3,f=e.getViewItem();f.getChildByName("rankNum").getComponent("cc.Label").string=c+1,f.getChildByName("name").getComponent("cc.Label").string=y+"",f.getChildByName("sorceNum").getComponent("cc.Label").string=u+"";var k=f.getChildByName("headMask").getChildByName("SpriteHead");d.loadHead(k,y,p),y==n&&(l=!0,i.getComponent("cc.Label").string=c+1,r.getComponent("cc.Label").string=y,o.getComponent("cc.Label").string=u+"",d.loadHead(s,y,p))}e.myRank.active=!!l,g.game.dismissLoading()})).catch((function(e){return console.error(e)})):(g.game.dismissLoading(),d.loadHead(s,n,a))}else g.game.dismissLoading()},o.initData=function(e){},o.getViewItem=function(){var e=c(this.rankItem);return this.content.addChild(e),e},o.backLayer=function(){this.delegate&&this.delegate.showBtn(!0),this.node.active=!1},t}(m)).prototype,"content",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=t(k.prototype,"rankItem",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(k.prototype,"myRank",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=k))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/FbAds.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,e;return{setters:[function(t){n=t.defineProperty},function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"db751PTOT9Dn6faXHVFNjob","FbAds",void 0);var i=t("default",function(){function t(){n(this,"interstitial_id","359316202455250_360965588956978"),n(this,"preloadedInterstitial",null)}t.getInstance=function(){return null==this._instance&&(this._instance=new t),this._instance};var e=t.prototype;return e.LoadInterstitialAds=function(){var t=this;"undefined"!=typeof FBInstant&&FBInstant.getInterstitialAdAsync(t.interstitial_id).then((function(n){return t.preloadedInterstitial=n,t.preloadedInterstitial.loadAsync()})).then((function(){console.log("Interstitial  preloaded")})).catch((function(t){console.error("Interstitial  failed to preload: "+t.message)}))},e.ShowInterstitialAds=function(){var t=this;"undefined"!=typeof FBInstant&&this.preloadedInterstitial&&this.preloadedInterstitial.showAsync().then((function(){console.log("Interstitial ad finished successfully"),t.LoadInterstitialAds()})).catch((function(t){console.error(t.message)}))},t}());n(i,"_instance",null),e._RF.pop()}}}));

System.register("chunks:///_virtual/utils.ts",["cc","./gameConfigs.ts"],(function(t){"use strict";var e,n,r;return{setters:[function(t){e=t.cclegacy,n=t._decorator},function(t){r=t.GameSystemManager}],execute:function(){e._RF.push({},"dddce/2a/tOSLUiRKNMAQVd","utils",void 0);n.ccclass,n.property;var a=t("utils",{getLocalizationLan:function(t){for(var e=["en","ru","uk","be","kz","uz","tr"],n=0;n<e.length;n++)if(t==e[n])return t;return"en"},getDiffCoeff:function(t,e,n){return(n*t+1)/(1*t+((n+1)/e-1))},getRandomInt:function(t,e){var n=Math.random()*(e-t+1)+t;return Math.floor(n)},getRandomFloot:function(t,e){return Math.random()*(e-t+1)+t},addSignUrl:function(t){return""},loadImgRemote:function(t,e,n){e&&""!=e&&this.getBase64(t,e,n)},getTextureByurl:function(t,e){(new XMLHttpRequest).send()},loadHead:function(t,e,n){(""==n&&(n="https://image.91banban.com/moren_touxiang.png"),r.getInstance().cacheSpriteFrame[e])?t.spriteFrame=r.getInstance().cacheSpriteFrame[e]:a.loadImgRemote(e,n,(function(e,n){t.spriteFrame=e,r.getInstance().cacheSpriteFrame[n]=null,r.getInstance().cacheSpriteFrame[n]=e}))},getBase64:function(t,e,n){}});e._RF.pop()}}}));

System.register("chunks:///_virtual/HttpCell.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./gameConfigs.ts","./md5.ts"],(function(e){"use strict";var t,r,s,i;return{setters:[function(e){t=e.defineProperty},function(e){r=e.cclegacy},function(e){s=e.GameSystemManager},function(e){i=e.Md5}],execute:function(){var n,_,o,a;e("TYPE_HTTP4DATAFORMAT",void 0),r._RF.push({},"ec0b1tUjdFEWoyzTWXeuTM3","HttpCell",void 0),function(e){e[e.___TEXT___=1]="___TEXT___",e[e.___BINARY___=2]="___BINARY___",e[e.___JSON___=3]="___JSON___"}(a||(a=e("TYPE_HTTP4DATAFORMAT",{})));var h=e("HttpCell",function(){function e(){var e=this;t(this,"_xhr",null),t(this,"_server_url",null),t(this,"_callback",null),t(this,"_timeout",null),t(this,"_formData",null),t(this,"_formDataTemp",null),t(this,"_method",null),t(this,"_data",null),t(this,"reset",(function(){e.listener2Handler(!0)})),t(this,"listener2Handler",(function(t){t||(e._xhr.onload&&(e._xhr.onload=null),e._xhr.ontimeout&&(e._xhr.ontimeout=null),e._xhr.onerror&&(e._xhr.onerror=null),e._xhr.onreadystatechange&&(e._xhr.onreadystatechange=null))})),t(this,"send",(function(t,r,s,i,n,_){switch(void 0===i&&(i=a.___JSON___),void 0===n&&(n=!0),void 0===_&&(_=null),e._server_url=t,e._callback=s,e._timeout=_,e._method=n?"GET":"POST",_&&(e._xhr.timeout=_),i){case a.___TEXT___:e._xhr.responseType="text";break;case a.___BINARY___:e._xhr.responseType="arraybuffer";break;case a.___JSON___:e._xhr.responseType="json"}r?(e._data=r,e._formData=e._getParamString(r)):(e._data=null,e._formData=null,e._formDataTemp=""),e.start()})),t(this,"start",(function(){e.setURL(),e._xhr.send(e._formData)})),t(this,"tryAgain",(function(){e.start()})),this._xhr=new XMLHttpRequest,this.listener2Handler(!0)}var r=e.prototype;return r.uuid=function(){for(var e=[],t="0123456789abcdef",r=0;r<36;r++)e[r]=t.substr(Math.floor(16*Math.random()),1);e[14]="4",e[19]=t.substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-";var s=e.join("");return s},r.fetchTimeStamp=function(){return(new Date).getTime()},r.setURL=function(){o="banban123456",n=this.fetchTimeStamp(),sessionStorage.getItem("imei")?_=sessionStorage.getItem("imei"):(_=(_=this.uuid()).replace(/-/g,""),sessionStorage.setItem("imei",_));var e="",t=navigator.userAgent,r=t.indexOf("Android")>-1||t.indexOf("Adr")>-1,a=!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),h=i.hashStr(o+""+_+"3"+n,!1);h=i.hashStr(h.toUpperCase(),!1),1==this._server_url.includes("?")?this._server_url=this._server_url+"&ncode="+h+"&reqtime="+n+"&imei="+_+"&os=3&versionCode=999":this._server_url=this._server_url+"?ncode="+h+"&reqtime="+n+"&imei="+_+"&os=3&token="+s.getInstance().httpToken+"&versionCode=999&"+this._formDataTemp,1==this._server_url.includes("report")&&(e=i.hashStr("balleap"+s.getInstance().httpToken+this._data.score+this._data.stat,!1),this._server_url=this._server_url+"&sign="+e),a?this._server_url=this._server_url+"&os=2":r&&(this._server_url=this._server_url+"&os=1"),this._xhr.open(this._method,this._server_url,!0),1==this._server_url.includes("report")&&this._xhr.setRequestHeader("sign",e),this._xhr.setRequestHeader("Content-Type","application/json"),this._xhr.setRequestHeader("ncode",h),this._xhr.setRequestHeader("reqtime",n.toString()),this._xhr.setRequestHeader("imei",_),this._xhr.setRequestHeader("os","3"),this._xhr.setRequestHeader("token",s.getInstance().httpToken),this._xhr.setRequestHeader("versionCode","999")},r.setHeader=function(e){o="banban123456",n=this.fetchTimeStamp()+100*Math.random(),sessionStorage.getItem("imei")?_=sessionStorage.getItem("imei"):(_=(_=this.uuid()).replace(/-/g,""),sessionStorage.setItem("imei",_))},r.abortListener=function(){this.listener2Handler(!1),this._server_url=null,this._callback=null},r.onComplete=function(e,t,r){this===r&&(this._callback(e,t,this),r.destory())},r._getParamString=function(e){var t="";for(var r in this._formDataTemp="",e)t+=r+"="+e[r]+"&","token"!=r&&(this._formDataTemp+=r+"="+e[r]+"&");return t.substr(0,t.length-1)},r.destory=function(){this.abortListener(),this._xhr=null},e}());e("HttpApi",function(){function e(){}return e.send=function(e,t,r,s,i,n){void 0===s&&(s=a.___JSON___),void 0===i&&(i=!0),void 0===n&&(n=null),(new h).send(e,t,r,s,i,n)},e}());r._RF.pop()}}}));

System.register("chunks:///_virtual/FbAnalytics.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n;return{setters:[function(t){e=t.defineProperty},function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"ed53b0R6JBJYJ5ml2QkSzdB","FbAnalytics",void 0);var i=t("default",function(){function t(){}return t.addHomeScreen=function(){},t.eventGameWin=function(){"undefined"!=typeof FBInstant&&FBInstant.logEvent(this.Game_Win,1,{custom_property:this.Game_Win})},t.eventGetScoreRank=function(){"undefined"!=typeof FBInstant&&FBInstant.logEvent(this.Get_Score_Rank,1,{custom_property:this.Get_Score_Rank})},t.eventGameNew=function(){"undefined"!=typeof FBInstant&&FBInstant.logEvent(this.Game_New,1,{custom_property:this.Game_New})},t.eventGameWinningDeal=function(){"undefined"!=typeof FBInstant&&FBInstant.logEvent(this.Game_WinningDeal,2,{custom_property:this.Game_WinningDeal})},t.eventGameReplay=function(){"undefined"!=typeof FBInstant&&FBInstant.logEvent(this.Game_Replay,3,{custom_property:this.Game_Replay})},t.eventMenuSetting=function(){"undefined"!=typeof FBInstant&&FBInstant.logEvent(this.Menu_Setting,3,{custom_property:this.Menu_Setting})},t.eventMenuTheme=function(){"undefined"!=typeof FBInstant&&FBInstant.logEvent(this.Menu_Theme,3,{custom_property:this.Menu_Theme})},t.eventMenuStart=function(){"undefined"!=typeof FBInstant&&FBInstant.logEvent(this.Menu_Start,3,{custom_property:this.Menu_Start})},t.eventMenuHint=function(){"undefined"!=typeof FBInstant&&FBInstant.logEvent(this.Menu_Hint,3,{custom_property:this.Menu_Hint})},t.eventMenuUndo=function(){"undefined"!=typeof FBInstant&&FBInstant.logEvent(this.Menu_Undo,3,{custom_property:this.Menu_Undo})},t.eventMenuStatistics=function(){"undefined"!=typeof FBInstant&&FBInstant.logEvent(this.Menu_Statistics,3,{custom_property:this.Menu_Statistics})},t.eventFirstGameComplete=function(){"undefined"!=typeof FBInstant&&FBInstant.logEvent(this.First_Game_Complete,3,{custom_property:this.First_Game_Complete})},t.eventGameComplete5=function(){"undefined"!=typeof FBInstant&&FBInstant.logEvent(this.Game_Complete_5,3,{custom_property:this.Game_Complete_5})},t.eventStatisticsReset=function(){"undefined"!=typeof FBInstant&&FBInstant.logEvent(this.Statistics_Reset,3,{custom_property:this.Statistics_Reset})},t.eventFirstAppStart=function(){"undefined"!=typeof FBInstant&&FBInstant.logEvent(this.First_App_Start,3,{custom_property:this.First_App_Start})},t.eventSecondDayStart=function(){"undefined"!=typeof FBInstant&&FBInstant.logEvent(this.SecondDay_Start,3,{custom_property:this.SecondDay_Start})},t.eventSettingHint=function(){"undefined"!=typeof FBInstant&&FBInstant.logEvent(this.Setting_Hint,3,{custom_property:this.Setting_Hint})},t.eventSettingSound=function(){"undefined"!=typeof FBInstant&&FBInstant.logEvent(this.Setting_Sound,3,{custom_property:this.Setting_Sound})},t.eventSettingLanguage=function(){"undefined"!=typeof FBInstant&&FBInstant.logEvent(this.Setting_Language,3,{custom_property:this.Setting_Language})},t.eventSettingDraw3=function(){"undefined"!=typeof FBInstant&&FBInstant.logEvent(this.Setting_Draw3,3,{custom_property:this.Setting_Draw3})},t.eventSettingDraw1=function(){"undefined"!=typeof FBInstant&&FBInstant.logEvent(this.Setting_Draw1,3,{custom_property:this.Setting_Draw1})},t.eventSettingBackDrop=function(){"undefined"!=typeof FBInstant&&FBInstant.logEvent(this.Setting_BackDrop,3,{custom_property:this.Setting_BackDrop})},t.eventSettingCardFront=function(){"undefined"!=typeof FBInstant&&FBInstant.logEvent(this.Setting_CardFront,3,{custom_property:this.Setting_CardFront})},t.eventSettingCardBack=function(){"undefined"!=typeof FBInstant&&FBInstant.logEvent(this.Setting_CardBack,3,{custom_property:this.Setting_CardBack})},t.eventPlayGame30Times=function(){"undefined"!=typeof FBInstant&&FBInstant.logEvent(this.Player_PlayGame30Times,3,{custom_property:this.Player_PlayGame30Times})},t.eventPlayGame20Times=function(){"undefined"!=typeof FBInstant&&FBInstant.logEvent(this.Player_PlayGame20Times,3,{custom_property:this.Player_PlayGame20Times})},t.eventLeftHand=function(){"undefined"!=typeof FBInstant&&FBInstant.logEvent(this.Setting_LeftHand,1,{custom_property:this.Setting_LeftHand})},t}());e(i,"Add_Home_Screen","Add_Home_Screen"),e(i,"Get_Score_Rank","Get_Score_Rank"),e(i,"Menu_Setting","Menu_Setting"),e(i,"Menu_Theme","Menu_Theme"),e(i,"Menu_Start","Menu_Start"),e(i,"Menu_Hint","Menu_Hint"),e(i,"Menu_Undo","Menu_Undo"),e(i,"Menu_Daily","Menu_Daily"),e(i,"Menu_Statistics","Menu_Statistics"),e(i,"Game_New","Game_New"),e(i,"Game_WinningDeal","Game_WinningDeal"),e(i,"Game_Replay","Game_Replay"),e(i,"Daily_New","Daily_New"),e(i,"Game_Win","Game_Win"),e(i,"First_Game_Complete","First_Game_Complete"),e(i,"Game_Complete_5","Game_Complete_5"),e(i,"Statistics_Reset","Statistics_Reset"),e(i,"First_App_Start","First_App_Start"),e(i,"SecondDay_Start","SecondDay_Start"),e(i,"Setting_Hint","Setting_Hint"),e(i,"Setting_Draw3","Setting_Draw3"),e(i,"Setting_Draw1","Setting_Draw1"),e(i,"Setting_Deal","Setting_Deal"),e(i,"Setting_Sound","Setting_Sound"),e(i,"Setting_Music","Setting_Music"),e(i,"Setting_Language","Setting_Language"),e(i,"Setting_Orientation","Setting_Orientation"),e(i,"Setting_LeftHand","Setting_LeftHand"),e(i,"Setting_BackDrop","Setting_BackDrop"),e(i,"Setting_CardFront","Setting_CardFront"),e(i,"Setting_CardBack","Setting_CardBack"),e(i,"Setting_QuitGame","Setting_QuitGame"),e(i,"Setting_SkipWinAnim","Setting_ShipWinAnim"),e(i,"Level_Start_Orientation","Level_Start_Orientation"),e(i,"Level_Win_Orientation","Level_Win_Orientation"),e(i,"Opption_RemoveAds","Opption_RemoveAds"),e(i,"Show_RemoveAds","Show_RemoveAds"),e(i,"GameWin_RemoveAds","GameWin_RemoveAds"),e(i,"Start_Purchasing_RemoveAds","Start_Purchasing_RemoveAds"),e(i,"Finish_Purchasing_RemoveAds","Finish_Purchasing_RemoveAds"),e(i,"Cancel_Purchasing_RemoveAds","Cancel_Purchasing_RemoveAds"),e(i,"Player_PlayGame30Times","Player_PlayGame_30minute"),e(i,"Player_PlayGame20Times","Player_PlayGame_20minute"),e(i,"No_More_Moves","No_More_Moves"),e(i,"Game_new_NoMoreMoves","Game_New_Hint_NoMoreMoves"),n._RF.pop()}}}));

System.register("chunks:///_virtual/rankItem.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./utils.ts"],(function(e){"use strict";var t,n,i,r,a,o,l,u,c,s,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.LabelComponent,u=e.SpriteComponent,c=e.Node,s=e.Component},function(e){p=e.utils}],execute:function(){var b,m,f,h,g,d,y,L,S,v,w,z,I,k,N,D;a._RF.push({},"efc3eNMi75OgKz841jLzmEY","rankItem",void 0);var _=o.ccclass,C=o.property;e("rankItem",(b=_("rankItem"),m=C(l),f=C(l),h=C(l),g=C(u),d=C(c),y=C(c),b((v=t((S=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(r(t),"rankNumLable",v,r(t)),i(r(t),"nameLable",w,r(t)),i(r(t),"scoreLable",z,r(t)),i(r(t),"headSp",I,r(t)),i(r(t),"no1Sp",k,r(t)),i(r(t),"no1bg",N,r(t)),i(r(t),"itemID",D,r(t)),t}n(t,e);var a=t.prototype;return a.start=function(){},a.initItem=function(e,t){this.itemID=t,this.rankNumLable.string=t+"",1==t?this.showNo1Sp(!0):this.showNo1Sp(!1),e.$1?this.scoreLable.string=e.$1:this.scoreLable.string="0";var n=p.addSignUrl(e.headimage);p.loadHead(this.headSp,e.uid,n),this.nameLable.string=e.nickname},a.showNo1Sp=function(e){this.no1Sp.active=e,this.no1bg.active=e,this.rankNumLable.node.active=!e},a.updateItem=function(e,t){this.initItem(e,t)},t}(s)).prototype,"rankNumLable",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(S.prototype,"nameLable",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(S.prototype,"scoreLable",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(S.prototype,"headSp",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(S.prototype,"no1Sp",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(S.prototype,"no1bg",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(S.prototype,"itemID",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),L=S))||L));a._RF.pop()}}}));

System.register("chunks:///_virtual/FbLanguage.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var e,i;return{setters:[function(n){e=n.defineProperty},function(n){i=n.cclegacy}],execute:function(){i._RF.push({},"f3f42RlOvdHzZvmFyPbzJ2n","FbLanguage",void 0);var a=n("default",function(){function n(){}return n.initLocalLanguage=function(){if("undefined"==typeof FBInstant)return"English"},n}());e(a,"localConfig",{zh_CN:"ChineseSimplified",en_GB:"English",en_PI:"English",en_UD:"English",en_US:"English",zh_HK:"ChineseTraditional",zh_TW:"ChineseTraditional",fr_CA:"French",fr_FR:"French",de_DE:"German",ko_KR:"Korean",pt_BR:"Portuguese",pt_PT:"Portuguese",ru_RU:"Russian",es_ES:"Spanish",es_LA:"Spanish",es_MX:"Spanish",ja_JP:"Japanese",ja_KS:"Japanese",id_ID:"Indonesian",nl_BE:"Dutch",nl_NL:"Dutch",ms_MY:"Malay",cs_CZ:"Czech",sk_SK:"Slovak",tl_PH:"Filipino",pl_PL:"Polish",it_IT:"Italian",da_DK:"Danish",fi_FI:"Finnish",nb_NO:"Norwegian",sl_SI:"Slovenian",sv_SE:"Swedish",uk_UA:"Ukrainian"}),i._RF.pop()}}}));

System.register("chunks:///_virtual/pool-manager.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,o,n,i,r,a;return{setters:[function(t){e=t.defineProperty,o=t.createClass},function(t){n=t.cclegacy,i=t._decorator,r=t.instantiate,a=t.NodePool}],execute:function(){var c,s,l;n._RF.push({},"f92c3xOcsdMEKh7W/84QPrD","pool-manager",void 0);var u=i.ccclass;i.property,t("PoolManager",u("PoolManager")((l=s=function(){function t(){e(this,"dictPool",{}),e(this,"dictPrefab",{})}var n=t.prototype;return n.getNode=function(t,e){var o=t.data.name;this.dictPrefab[o]=t;var n=null;if(this.dictPool.hasOwnProperty(o)){var i=this.dictPool[o];n=i.size()>0?i.get():r(t)}else{var c=new a;this.dictPool[o]=c,n=r(t)}return n.parent=e,n},n.putNode=function(t){var e=t.name,o=null;this.dictPool.hasOwnProperty(e)?o=this.dictPool[e]:(o=new a,this.dictPool[e]=o),o.put(t)},n.clearPool=function(t){this.dictPool.hasOwnProperty(t)&&this.dictPool[t].clear()},o(t,null,[{key:"instance",get:function(){return this._instance||(this._instance=new t),this._instance}}]),t}(),e(s,"_instance",void 0),c=l))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./update-value-label.ts","./migrate-canvas.ts","./gameConfigs.ts","./utils.ts","./board-manager.ts","./listViewCtrl.ts","./Localization.ts","./revive.ts","./FbLanguage.ts","./FbFunc.ts","./StorageMgr.ts","./page-result.ts","./proboard.ts","./ui-manager.ts","./audio-manager.ts","./pool-manager.ts","./ball.ts","./camera-ctrl.ts","./toast.ts","./loading.ts","./FbAds.ts","./gameCtl.ts","./page-start.ts","./md5.ts","./AdsMgr.ts","./board.ts","./rankLayer.ts","./HttpCell.ts","./FbAnalytics.ts","./rankItem.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});